{"uid":"94c79ab905c33a27","name":"test_network_cut","fullName":"tests.integration.ha_tests.test_self_healing#test_network_cut","historyId":"6b9f6734f6f55bf616f6dd52eb37e3bd","time":{"start":1751509077625,"stop":1751509518993,"duration":441368},"description":"Completely cut and restore network.","descriptionHtml":"<p>Completely cut and restore network.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1751506682411,"stop":1751506682412,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1751506682411,"stop":1751506682411,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1751506682412,"stop":1751506682570,"duration":158},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1751507700657,"stop":1751507705790,"duration":5133},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1751509077624,"stop":1751509077625,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1751509077624,"stop":1751509077624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Completely cut and restore network.","status":"passed","steps":[],"attachments":[{"uid":"215c11a6e71472d6","name":"log","source":"215c11a6e71472d6.txt","type":"text/plain","size":4436}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1751509518993,"stop":1751509520018,"duration":1025},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1751509520018,"stop":1751509520018,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1751510147422,"stop":1751510280650,"duration":133228},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f77229fc260 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1751510280650,"stop":1751510280916,"duration":266},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1751510280917,"stop":1751510280917,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1751510280917,"stop":1751510280917,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1751510280917,"stop":1751510280917,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"pkrvmbietmlfzoi"},{"name":"thread","value":"15310-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"28bfe702d697df5f","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":23,"broken":45,"skipped":216,"passed":164,"unknown":23,"total":471},"items":[{"uid":"54ac77e2cc31beb6","reportUrl":"../5094//#testresult/54ac77e2cc31beb6","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/1","time":{"start":1751422346777,"stop":1751422479453,"duration":132676}},{"uid":"874a32621f2e2dcd","reportUrl":"../5082//#testresult/874a32621f2e2dcd","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1751337291694,"stop":1751337291694,"duration":0}},{"uid":"9fccc5d306e29247","reportUrl":"../5074//#testresult/9fccc5d306e29247","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1751249526246,"stop":1751249526246,"duration":0}},{"uid":"dd90efa24652f096","reportUrl":"../5073//#testresult/dd90efa24652f096","status":"passed","time":{"start":1751163972732,"stop":1751164319423,"duration":346691}},{"uid":"821b3b6f100500ba","reportUrl":"../5072//#testresult/821b3b6f100500ba","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1751076982562,"stop":1751076982562,"duration":0}},{"uid":"76e8f13e321f1eee","reportUrl":"../5060//#testresult/76e8f13e321f1eee","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1750991310076,"stop":1750991310076,"duration":0}},{"uid":"e6cb1646ec205aee","reportUrl":"../5051//#testresult/e6cb1646ec205aee","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1750904143172,"stop":1750904143172,"duration":0}},{"uid":"552d89fefedc4a6a","reportUrl":"../5044//#testresult/552d89fefedc4a6a","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1750818017634,"stop":1750818017634,"duration":0}},{"uid":"7ed9f96b103d6bde","reportUrl":"../5031//#testresult/7ed9f96b103d6bde","status":"passed","time":{"start":1750732164410,"stop":1750732651284,"duration":486874}},{"uid":"609065ff8dbf7ea1","reportUrl":"../5028//#testresult/609065ff8dbf7ea1","status":"passed","time":{"start":1750559181540,"stop":1750559556904,"duration":375364}},{"uid":"f0c9e6104b4652fb","reportUrl":"../5027//#testresult/f0c9e6104b4652fb","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1750472189447,"stop":1750472189447,"duration":0}},{"uid":"3daf2437c6e455a0","reportUrl":"../5017//#testresult/3daf2437c6e455a0","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1750387103204,"stop":1750387103204,"duration":0}},{"uid":"5e003eba1b32804a","reportUrl":"../5011//#testresult/5e003eba1b32804a","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1750300744484,"stop":1750300744484,"duration":0}},{"uid":"90f64d670965e19d","reportUrl":"../5008//#testresult/90f64d670965e19d","status":"passed","time":{"start":1750213491930,"stop":1750213953853,"duration":461923}},{"uid":"60c4266060cf925b","reportUrl":"../4994//#testresult/60c4266060cf925b","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/0","time":{"start":1750127403284,"stop":1750127595842,"duration":192558}},{"uid":"78ba293bc914aa90","reportUrl":"../4984//#testresult/78ba293bc914aa90","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1750040113029,"stop":1750040113029,"duration":0}},{"uid":"9a1bfb757e709a25","reportUrl":"../4983//#testresult/9a1bfb757e709a25","status":"passed","time":{"start":1749954713306,"stop":1749955307246,"duration":593940}},{"uid":"8f8965929120221b","reportUrl":"../4982//#testresult/8f8965929120221b","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1749868083159,"stop":1749868083159,"duration":0}},{"uid":"758e58113de2f3a5","reportUrl":"../4973//#testresult/758e58113de2f3a5","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1749782864844,"stop":1749782864844,"duration":0}},{"uid":"3cc0be429b098181","reportUrl":"../4966//#testresult/3cc0be429b098181","status":"passed","time":{"start":1749695381438,"stop":1749695903862,"duration":522424}}]},"tags":["asyncio","abort_on_fail"]},"source":"94c79ab905c33a27.json","parameterValues":[]}