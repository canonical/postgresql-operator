{"uid":"bcb7f9c86a51c3c3","name":"test_interruption_db_process[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"546685934c34cfff7f60423bbdce2bf1","time":{"start":1754272122751,"stop":1754272201930,"duration":79179},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1754271155519,"stop":1754271155519,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1754271155519,"stop":1754271155519,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1754271155520,"stop":1754271155703,"duration":183},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1754272038175,"stop":1754272041295,"duration":3120},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1754272122751,"stop":1754272122751,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1754272122751,"stop":1754272122751,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"cdbb6ea0a0de60c7","name":"log","source":"cdbb6ea0a0de60c7.txt","type":"text/plain","size":779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1754272201930,"stop":1754272202950,"duration":1020},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1754272202951,"stop":1754272202951,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1754274193084,"stop":1754274325614,"duration":132530},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f3b171b3bf0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1754274325615,"stop":1754274325890,"duration":275},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1754274325890,"stop":1754274325891,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1754274325891,"stop":1754274325891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1754274325891,"stop":1754274325891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"pkrvmjbmru5nbw0"},{"name":"thread","value":"15228-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ab91db6c893cd3e1","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":10,"passed":312,"unknown":19,"total":343},"items":[{"uid":"2b0c51db8041d507","reportUrl":"../5383//#testresult/2b0c51db8041d507","status":"passed","time":{"start":1754185818350,"stop":1754185897580,"duration":79230}},{"uid":"7042b0f30cf97288","reportUrl":"../5379//#testresult/7042b0f30cf97288","status":"passed","time":{"start":1754099502908,"stop":1754099581113,"duration":78205}},{"uid":"4a1f32dbe0567a9","reportUrl":"../5370//#testresult/4a1f32dbe0567a9","status":"passed","time":{"start":1754013113875,"stop":1754013192219,"duration":78344}},{"uid":"7d306cd2fbf4bfaa","reportUrl":"../5348//#testresult/7d306cd2fbf4bfaa","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753927014088,"stop":1753927014088,"duration":0}},{"uid":"66e1d9cd3d57b578","reportUrl":"../5336//#testresult/66e1d9cd3d57b578","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753840699322,"stop":1753840699322,"duration":0}},{"uid":"f621f1471e93d196","reportUrl":"../5330//#testresult/f621f1471e93d196","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753754779196,"stop":1753754779196,"duration":0}},{"uid":"3e785e389d169c4b","reportUrl":"../5312//#testresult/3e785e389d169c4b","status":"passed","time":{"start":1753667381886,"stop":1753667464745,"duration":82859}},{"uid":"6107da89dbed1ed","reportUrl":"../5311//#testresult/6107da89dbed1ed","status":"passed","time":{"start":1753582062042,"stop":1753582142611,"duration":80569}},{"uid":"fd947eeb3dc8693b","reportUrl":"../5309//#testresult/fd947eeb3dc8693b","status":"passed","time":{"start":1753494774607,"stop":1753494853766,"duration":79159}},{"uid":"87bbf115b9b30720","reportUrl":"../5308//#testresult/87bbf115b9b30720","status":"passed","time":{"start":1753408511826,"stop":1753408591292,"duration":79466}},{"uid":"6fd41a4e7ca6fb92","reportUrl":"../5297//#testresult/6fd41a4e7ca6fb92","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753322294317,"stop":1753322294317,"duration":0}},{"uid":"bec0b1a89acf9a65","reportUrl":"../5292//#testresult/bec0b1a89acf9a65","status":"passed","time":{"start":1753236030121,"stop":1753236110573,"duration":80452}},{"uid":"14341b34c51b78cc","reportUrl":"../5285//#testresult/14341b34c51b78cc","status":"passed","time":{"start":1753150680381,"stop":1753150759603,"duration":79222}},{"uid":"9ff4710a67954711","reportUrl":"../5283//#testresult/9ff4710a67954711","status":"passed","time":{"start":1753063235025,"stop":1753063317343,"duration":82318}},{"uid":"4cc15a7bc9f4a3a3","reportUrl":"../5282//#testresult/4cc15a7bc9f4a3a3","status":"passed","time":{"start":1752977214170,"stop":1752977296475,"duration":82305}},{"uid":"f42713d2def162e5","reportUrl":"../5276//#testresult/f42713d2def162e5","status":"passed","time":{"start":1752890560818,"stop":1752890640036,"duration":79218}},{"uid":"f834cfea1cd6d0d9","reportUrl":"../5274//#testresult/f834cfea1cd6d0d9","status":"passed","time":{"start":1752804210266,"stop":1752804290488,"duration":80222}},{"uid":"cdfc34c582fdd15a","reportUrl":"../5265//#testresult/cdfc34c582fdd15a","status":"passed","time":{"start":1752717875982,"stop":1752717956357,"duration":80375}},{"uid":"f8cb3f3955bbb1db","reportUrl":"../5262//#testresult/f8cb3f3955bbb1db","status":"passed","time":{"start":1752631238828,"stop":1752631317962,"duration":79134}},{"uid":"613f643ffcfbf159","reportUrl":"../5237//#testresult/613f643ffcfbf159","status":"passed","time":{"start":1752545108986,"stop":1752545188655,"duration":79669}}]},"tags":["asyncio","abort_on_fail"]},"source":"bcb7f9c86a51c3c3.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}