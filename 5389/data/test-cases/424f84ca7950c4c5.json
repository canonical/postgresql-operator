{"uid":"424f84ca7950c4c5","name":"test_network_cut","fullName":"tests.integration.ha_tests.test_self_healing#test_network_cut","historyId":"6b9f6734f6f55bf616f6dd52eb37e3bd","time":{"start":1754273146216,"stop":1754273591222,"duration":445006},"description":"Completely cut and restore network.","descriptionHtml":"<p>Completely cut and restore network.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1754271155519,"stop":1754271155519,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1754271155519,"stop":1754271155519,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1754271155520,"stop":1754271155703,"duration":183},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1754272038175,"stop":1754272041295,"duration":3120},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1754273146216,"stop":1754273146216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1754273146216,"stop":1754273146216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Completely cut and restore network.","status":"passed","steps":[],"attachments":[{"uid":"27e11c47447d2718","name":"log","source":"27e11c47447d2718.txt","type":"text/plain","size":4598}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1754273591222,"stop":1754273592243,"duration":1021},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1754273592243,"stop":1754273592243,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1754274193084,"stop":1754274325614,"duration":132530},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f3b171b3bf0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1754274325615,"stop":1754274325890,"duration":275},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1754274325890,"stop":1754274325891,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1754274325891,"stop":1754274325891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1754274325891,"stop":1754274325891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"pkrvmjbmru5nbw0"},{"name":"thread","value":"15228-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"35007198f237c01f","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":27,"broken":46,"skipped":232,"passed":175,"unknown":23,"total":503},"items":[{"uid":"13ac5130b1732943","reportUrl":"../5383//#testresult/13ac5130b1732943","status":"passed","time":{"start":1754187196455,"stop":1754187714554,"duration":518099}},{"uid":"72d88007060194fb","reportUrl":"../5379//#testresult/72d88007060194fb","status":"passed","time":{"start":1754100532771,"stop":1754101058307,"duration":525536}},{"uid":"e23228c97c8d4289","reportUrl":"../5370//#testresult/e23228c97c8d4289","status":"passed","time":{"start":1754014425196,"stop":1754014965942,"duration":540746}},{"uid":"2707ac43bbd15a69","reportUrl":"../5348//#testresult/2707ac43bbd15a69","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753927014136,"stop":1753927014136,"duration":0}},{"uid":"bdbcbe8630bc14e6","reportUrl":"../5336//#testresult/bdbcbe8630bc14e6","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753840699377,"stop":1753840699377,"duration":0}},{"uid":"3ac95531b4104d3b","reportUrl":"../5330//#testresult/3ac95531b4104d3b","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753754779269,"stop":1753754779269,"duration":0}},{"uid":"954902f96fa51584","reportUrl":"../5312//#testresult/954902f96fa51584","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753668019558,"stop":1753668019558,"duration":0}},{"uid":"3168b5d4f2ec693e","reportUrl":"../5311//#testresult/3168b5d4f2ec693e","status":"passed","time":{"start":1753583379497,"stop":1753583660337,"duration":280840}},{"uid":"a8a1220ab4784f8a","reportUrl":"../5309//#testresult/a8a1220ab4784f8a","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753496335247,"stop":1753496335247,"duration":0}},{"uid":"ff721c121fd3724","reportUrl":"../5308//#testresult/ff721c121fd3724","status":"failed","statusDetails":"AssertionError: testing.postgresql-2: writes not continuing to DB (current writes: 7 - previous writes: 7)","time":{"start":1753409641930,"stop":1753409931094,"duration":289164}},{"uid":"105c40786a2a9202","reportUrl":"../5297//#testresult/105c40786a2a9202","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753322294378,"stop":1753322294378,"duration":0}},{"uid":"af4d80ed5c56603f","reportUrl":"../5292//#testresult/af4d80ed5c56603f","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753237234290,"stop":1753237234290,"duration":0}},{"uid":"e6fd25b6190c8243","reportUrl":"../5285//#testresult/e6fd25b6190c8243","status":"passed","time":{"start":1753152084228,"stop":1753152398359,"duration":314131}},{"uid":"c8e5979924fa1854","reportUrl":"../5283//#testresult/c8e5979924fa1854","status":"passed","time":{"start":1753064535573,"stop":1753064862982,"duration":327409}},{"uid":"347b18846db0f496","reportUrl":"../5282//#testresult/347b18846db0f496","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1752979199394,"stop":1752979199394,"duration":0}},{"uid":"4fb6e4f9f1cda42c","reportUrl":"../5276//#testresult/4fb6e4f9f1cda42c","status":"passed","time":{"start":1752891877418,"stop":1752892173464,"duration":296046}},{"uid":"18c59d5ddb9296f","reportUrl":"../5274//#testresult/18c59d5ddb9296f","status":"failed","statusDetails":"AssertionError: testing.postgresql-0: writes not continuing to DB (current writes: 5 - previous writes: 5)","time":{"start":1752805544891,"stop":1752805823093,"duration":278202}},{"uid":"4ca32238bf899b9e","reportUrl":"../5265//#testresult/4ca32238bf899b9e","status":"failed","statusDetails":"AssertionError: testing.postgresql-0: writes not continuing to DB (current writes: 5 - previous writes: 5)","time":{"start":1752719039962,"stop":1752719291552,"duration":251590}},{"uid":"b2780d1126b3f315","reportUrl":"../5262//#testresult/b2780d1126b3f315","status":"passed","time":{"start":1752632636648,"stop":1752632987719,"duration":351071}},{"uid":"df76d0ac483c40e9","reportUrl":"../5237//#testresult/df76d0ac483c40e9","status":"passed","time":{"start":1752546374233,"stop":1752546716502,"duration":342269}}]},"tags":["asyncio","abort_on_fail"]},"source":"424f84ca7950c4c5.json","parameterValues":[]}