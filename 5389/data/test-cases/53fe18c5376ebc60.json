{"uid":"53fe18c5376ebc60","name":"test_freeze_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_freeze_db_process","historyId":"8fac570613189c2919a673774a1a29dd","time":{"start":1754272533438,"stop":1754272615934,"duration":82496},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1754271155519,"stop":1754271155519,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1754271155519,"stop":1754271155519,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1754271155520,"stop":1754271155703,"duration":183},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1754272038175,"stop":1754272041295,"duration":3120},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1754272533438,"stop":1754272533438,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1754272533438,"stop":1754272533438,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"55aa6ee207c1f5d4","name":"log","source":"55aa6ee207c1f5d4.txt","type":"text/plain","size":779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1754272615934,"stop":1754272616967,"duration":1033},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1754272616968,"stop":1754272616968,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1754274193084,"stop":1754274325614,"duration":132530},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f3b171b3bf0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1754274325615,"stop":1754274325890,"duration":275},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1754274325890,"stop":1754274325891,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1754274325891,"stop":1754274325891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1754274325891,"stop":1754274325891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"pkrvmjbmru5nbw0"},{"name":"thread","value":"15228-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ab9fff6b0f624ad2","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":16,"broken":4,"skipped":17,"passed":446,"unknown":20,"total":503},"items":[{"uid":"74aab3222f0ba2fe","reportUrl":"../5383//#testresult/74aab3222f0ba2fe","status":"passed","time":{"start":1754186486503,"stop":1754186651697,"duration":165194}},{"uid":"7e1de5d86f4b0a51","reportUrl":"../5379//#testresult/7e1de5d86f4b0a51","status":"passed","time":{"start":1754099906280,"stop":1754100069423,"duration":163143}},{"uid":"36804c10d0281230","reportUrl":"../5370//#testresult/36804c10d0281230","status":"passed","time":{"start":1754013784262,"stop":1754013958273,"duration":174011}},{"uid":"d33118848efa1a0b","reportUrl":"../5348//#testresult/d33118848efa1a0b","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753927014104,"stop":1753927014104,"duration":0}},{"uid":"7f687210d28c1b74","reportUrl":"../5336//#testresult/7f687210d28c1b74","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753840699340,"stop":1753840699340,"duration":0}},{"uid":"3ad09d995a8050b1","reportUrl":"../5330//#testresult/3ad09d995a8050b1","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753754779223,"stop":1753754779223,"duration":0}},{"uid":"eab03b469e0aac56","reportUrl":"../5312//#testresult/eab03b469e0aac56","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753668019536,"stop":1753668019536,"duration":0}},{"uid":"1e4b68353125319e","reportUrl":"../5311//#testresult/1e4b68353125319e","status":"passed","time":{"start":1753582737949,"stop":1753582914640,"duration":176691}},{"uid":"9d10cf84afeb1bb9","reportUrl":"../5309//#testresult/9d10cf84afeb1bb9","status":"passed","time":{"start":1753495446857,"stop":1753495620576,"duration":173719}},{"uid":"7136ed2042c9492c","reportUrl":"../5308//#testresult/7136ed2042c9492c","status":"passed","time":{"start":1753409163018,"stop":1753409259076,"duration":96058}},{"uid":"9da7175cac1f9d43","reportUrl":"../5297//#testresult/9da7175cac1f9d43","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1753322294342,"stop":1753322294342,"duration":0}},{"uid":"e2ed580e35e4770b","reportUrl":"../5292//#testresult/e2ed580e35e4770b","status":"passed","time":{"start":1753236440019,"stop":1753236641125,"duration":201106}},{"uid":"1da02609d0b40812","reportUrl":"../5285//#testresult/1da02609d0b40812","status":"passed","time":{"start":1753151087436,"stop":1753151580065,"duration":492629}},{"uid":"c2bffda3a3765297","reportUrl":"../5283//#testresult/c2bffda3a3765297","status":"passed","time":{"start":1753063907824,"stop":1753064086605,"duration":178781}},{"uid":"b27369e8fc186503","reportUrl":"../5282//#testresult/b27369e8fc186503","status":"passed","time":{"start":1752977868413,"stop":1752978046257,"duration":177844}},{"uid":"bb367e1d71c2fba3","reportUrl":"../5276//#testresult/bb367e1d71c2fba3","status":"passed","time":{"start":1752890980272,"stop":1752891433626,"duration":453354}},{"uid":"9666e2c574c1e7df","reportUrl":"../5274//#testresult/9666e2c574c1e7df","status":"passed","time":{"start":1752804868285,"stop":1752805052558,"duration":184273}},{"uid":"48b5420bdebe1aa8","reportUrl":"../5265//#testresult/48b5420bdebe1aa8","status":"passed","time":{"start":1752718292171,"stop":1752718506123,"duration":213952}},{"uid":"a1fb79f7c7a044db","reportUrl":"../5262//#testresult/a1fb79f7c7a044db","status":"passed","time":{"start":1752631908937,"stop":1752632083496,"duration":174559}},{"uid":"f1cf368e5befbe2e","reportUrl":"../5237//#testresult/f1cf368e5befbe2e","status":"passed","time":{"start":1752545783220,"stop":1752545957537,"duration":174317}}]},"tags":["asyncio","abort_on_fail"]},"source":"53fe18c5376ebc60.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}