{"uid":"15389be405691758","name":"test_interruption_db_process[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"546685934c34cfff7f60423bbdce2bf1","time":{"start":1756605079888,"stop":1756605159440,"duration":79552},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1756603871887,"stop":1756603871887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1756603871887,"stop":1756603872028,"duration":141},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1756603871887,"stop":1756603871887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1756604993804,"stop":1756604997934,"duration":4130},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1756605079888,"stop":1756605079888,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1756605079888,"stop":1756605079888,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"390d9112b162bcc9","name":"log","source":"390d9112b162bcc9.txt","type":"text/plain","size":779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1756605159440,"stop":1756605160457,"duration":1017},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1756605160458,"stop":1756605160458,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1756607049706,"stop":1756607183622,"duration":133916},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f0aed78bc80 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1756607183623,"stop":1756607183978,"duration":355},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1756607183979,"stop":1756607183979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1756607183979,"stop":1756607183979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1756607183979,"stop":1756607183979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"pkrvmccyg1gnepe"},{"name":"thread","value":"15408-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"45295f9397343f02","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":11,"passed":336,"unknown":21,"total":370},"items":[{"uid":"3e28a17fe0723c04","reportUrl":"../5530//#testresult/3e28a17fe0723c04","status":"unknown","time":{}},{"uid":"d13da8035ac96d89","reportUrl":"../5520//#testresult/d13da8035ac96d89","status":"passed","time":{"start":1756432312584,"stop":1756432392123,"duration":79539}},{"uid":"8b8017474e4879fd","reportUrl":"../5514//#testresult/8b8017474e4879fd","status":"unknown","time":{}},{"uid":"50b1270c0e92c2a4","reportUrl":"../5513//#testresult/50b1270c0e92c2a4","status":"passed","time":{"start":1756259598580,"stop":1756259677057,"duration":78477}},{"uid":"fa102d16d8313a4d","reportUrl":"../5511//#testresult/fa102d16d8313a4d","status":"passed","time":{"start":1756175355066,"stop":1756175434688,"duration":79622}},{"uid":"8bfd35d065e32d77","reportUrl":"../5497//#testresult/8bfd35d065e32d77","status":"passed","time":{"start":1756086576236,"stop":1756086655848,"duration":79612}},{"uid":"7d25ea4a4221c5af","reportUrl":"../5496//#testresult/7d25ea4a4221c5af","status":"passed","time":{"start":1756000256176,"stop":1756000335797,"duration":79621}},{"uid":"19d717a6ed26177","reportUrl":"../5494//#testresult/19d717a6ed26177","status":"passed","time":{"start":1755913881483,"stop":1755913960776,"duration":79293}},{"uid":"bb4831194660309f","reportUrl":"../5491//#testresult/bb4831194660309f","status":"passed","time":{"start":1755827523966,"stop":1755827602199,"duration":78233}},{"uid":"bc95ef6f63520267","reportUrl":"../5485//#testresult/bc95ef6f63520267","status":"passed","time":{"start":1755741025013,"stop":1755741104395,"duration":79382}},{"uid":"e9c6d992d36afb14","reportUrl":"../5478//#testresult/e9c6d992d36afb14","status":"passed","time":{"start":1755654615599,"stop":1755654694694,"duration":79095}},{"uid":"976f2110db2ecdb6","reportUrl":"../5462//#testresult/976f2110db2ecdb6","status":"passed","time":{"start":1755568226391,"stop":1755568307681,"duration":81290}},{"uid":"8ad6954a57ed2c1a","reportUrl":"../5456//#testresult/8ad6954a57ed2c1a","status":"passed","time":{"start":1755481848317,"stop":1755481927398,"duration":79081}},{"uid":"269b1800d19465a6","reportUrl":"../5454//#testresult/269b1800d19465a6","status":"passed","time":{"start":1755395420661,"stop":1755395499838,"duration":79177}},{"uid":"4367c78052d53f97","reportUrl":"../5453//#testresult/4367c78052d53f97","status":"passed","time":{"start":1755309021158,"stop":1755309100258,"duration":79100}},{"uid":"743bde762f017ec5","reportUrl":"../5451//#testresult/743bde762f017ec5","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1755223121875,"stop":1755223121875,"duration":0}},{"uid":"2b36dbbc55826e1b","reportUrl":"../5446//#testresult/2b36dbbc55826e1b","status":"passed","time":{"start":1755136235489,"stop":1755136313766,"duration":78277}},{"uid":"1d0d9eb4a3dac074","reportUrl":"../5429//#testresult/1d0d9eb4a3dac074","status":"passed","time":{"start":1755049782745,"stop":1755049864062,"duration":81317}},{"uid":"732afa3b37edfad3","reportUrl":"../5418//#testresult/732afa3b37edfad3","status":"passed","time":{"start":1754963245548,"stop":1754963323626,"duration":78078}},{"uid":"e348189f2c57a9c9","reportUrl":"../5417//#testresult/e348189f2c57a9c9","status":"passed","time":{"start":1754876892625,"stop":1754876975103,"duration":82478}}]},"tags":["asyncio","abort_on_fail"]},"source":"15389be405691758.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}