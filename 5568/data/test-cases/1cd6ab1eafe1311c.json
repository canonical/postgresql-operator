{"uid":"1cd6ab1eafe1311c","name":"test_freeze_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_freeze_db_process","historyId":"8fac570613189c2919a673774a1a29dd","time":{"start":1757296736219,"stop":1757297212006,"duration":475787},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1757295118037,"stop":1757295118037,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1757295118038,"stop":1757295118038,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1757295118038,"stop":1757295118191,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1757296245277,"stop":1757296249428,"duration":4151},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1757296736219,"stop":1757296736219,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1757296736219,"stop":1757296736219,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"e7476d287f1cb876","name":"log","source":"e7476d287f1cb876.txt","type":"text/plain","size":2227}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1757297212007,"stop":1757297213036,"duration":1029},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1757297213037,"stop":1757297213037,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1757298724363,"stop":1757298859725,"duration":135362},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f60fe3c4ad0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1757298859726,"stop":1757298860070,"duration":344},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1757298860071,"stop":1757298860072,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1757298860072,"stop":1757298860072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1757298860072,"stop":1757298860072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"15375-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"86a8c739b101ef18","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":17,"broken":4,"skipped":19,"passed":472,"unknown":24,"total":536},"items":[{"uid":"d13a8fa669f91536","reportUrl":"../5566//#testresult/d13a8fa669f91536","status":"unknown","time":{}},{"uid":"51b390c8353894ee","reportUrl":"../5556//#testresult/51b390c8353894ee","status":"passed","time":{"start":1756951059562,"stop":1756951245089,"duration":185527}},{"uid":"60bb85d1bad0e6a0","reportUrl":"../5548//#testresult/60bb85d1bad0e6a0","status":"passed","time":{"start":1756865091929,"stop":1756865173737,"duration":81808}},{"uid":"f72c3f999a9b0633","reportUrl":"../5533//#testresult/f72c3f999a9b0633","status":"passed","time":{"start":1756778501902,"stop":1756778691860,"duration":189958}},{"uid":"4da22a82a11cdd99","reportUrl":"../5532//#testresult/4da22a82a11cdd99","status":"unknown","time":{}},{"uid":"be2bb24b19fd9c1f","reportUrl":"../5531//#testresult/be2bb24b19fd9c1f","status":"passed","time":{"start":1756605432163,"stop":1756605639946,"duration":207783}},{"uid":"dd061547e049fad3","reportUrl":"../5530//#testresult/dd061547e049fad3","status":"unknown","time":{}},{"uid":"b2fc7bda0e3fe5c5","reportUrl":"../5520//#testresult/b2fc7bda0e3fe5c5","status":"passed","time":{"start":1756432978486,"stop":1756433149174,"duration":170688}},{"uid":"cea8dc40aa56021d","reportUrl":"../5514//#testresult/cea8dc40aa56021d","status":"unknown","time":{}},{"uid":"57aefe9972702bae","reportUrl":"../5513//#testresult/57aefe9972702bae","status":"passed","time":{"start":1756260242155,"stop":1756260414872,"duration":172717}},{"uid":"4538eb090d111495","reportUrl":"../5511//#testresult/4538eb090d111495","status":"passed","time":{"start":1756175759040,"stop":1756176228720,"duration":469680}},{"uid":"94aa9bb56cee03ea","reportUrl":"../5497//#testresult/94aa9bb56cee03ea","status":"passed","time":{"start":1756087244315,"stop":1756087406585,"duration":162270}},{"uid":"279f66c2d8ada5f6","reportUrl":"../5496//#testresult/279f66c2d8ada5f6","status":"passed","time":{"start":1756000658080,"stop":1756001068189,"duration":410109}},{"uid":"152099bf12d2a8b3","reportUrl":"../5494//#testresult/152099bf12d2a8b3","status":"passed","time":{"start":1755914553599,"stop":1755914716708,"duration":163109}},{"uid":"dd41dc2a7f99398c","reportUrl":"../5491//#testresult/dd41dc2a7f99398c","status":"passed","time":{"start":1755828198577,"stop":1755828369704,"duration":171127}},{"uid":"259214ff756270b9","reportUrl":"../5485//#testresult/259214ff756270b9","status":"passed","time":{"start":1755741442593,"stop":1755741613061,"duration":170468}},{"uid":"b63f49870c34f7b","reportUrl":"../5478//#testresult/b63f49870c34f7b","status":"failed","statusDetails":"AssertionError: testing.postgresql-2: writes not continuing to DB (current writes: 64 - previous writes: 64)","time":{"start":1755655057331,"stop":1755655385436,"duration":328105}},{"uid":"507ba3fce69c9387","reportUrl":"../5462//#testresult/507ba3fce69c9387","status":"passed","time":{"start":1755568886802,"stop":1755569052600,"duration":165798}},{"uid":"fe9debe8aef2a17b","reportUrl":"../5456//#testresult/fe9debe8aef2a17b","status":"passed","time":{"start":1755482249744,"stop":1755482694597,"duration":444853}},{"uid":"b4e56b426a0adcef","reportUrl":"../5454//#testresult/b4e56b426a0adcef","status":"passed","time":{"start":1755396074182,"stop":1755396244159,"duration":169977}}]},"tags":["asyncio","abort_on_fail"]},"source":"1cd6ab1eafe1311c.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}