{"uid":"c63b90fcecdf6ebc","name":"test_interruption_db_process[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"546685934c34cfff7f60423bbdce2bf1","time":{"start":1757296331396,"stop":1757296411170,"duration":79774},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1757295118037,"stop":1757295118037,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1757295118038,"stop":1757295118038,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1757295118038,"stop":1757295118191,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1757296245277,"stop":1757296249428,"duration":4151},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1757296331395,"stop":1757296331395,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1757296331395,"stop":1757296331395,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"ac62ddaa5569ad04","name":"log","source":"ac62ddaa5569ad04.txt","type":"text/plain","size":779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1757296411171,"stop":1757296412190,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1757296412191,"stop":1757296412191,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1757298724363,"stop":1757298859725,"duration":135362},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f60fe3c4ad0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1757298859726,"stop":1757298860070,"duration":344},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1757298860071,"stop":1757298860072,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1757298860072,"stop":1757298860072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1757298860072,"stop":1757298860072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"15375-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"b6a0caceff55cad8","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":11,"passed":340,"unknown":23,"total":376},"items":[{"uid":"802efe7faff5c43e","reportUrl":"../5566//#testresult/802efe7faff5c43e","status":"unknown","time":{}},{"uid":"e9b1f61c47723e39","reportUrl":"../5556//#testresult/e9b1f61c47723e39","status":"passed","time":{"start":1756950652376,"stop":1756950731984,"duration":79608}},{"uid":"42388a04d0f00236","reportUrl":"../5548//#testresult/42388a04d0f00236","status":"passed","time":{"start":1756864426615,"stop":1756864505235,"duration":78620}},{"uid":"7d542299e1b039fd","reportUrl":"../5533//#testresult/7d542299e1b039fd","status":"passed","time":{"start":1756777823606,"stop":1756777903443,"duration":79837}},{"uid":"6c0da6c0a86517a6","reportUrl":"../5532//#testresult/6c0da6c0a86517a6","status":"unknown","time":{}},{"uid":"15389be405691758","reportUrl":"../5531//#testresult/15389be405691758","status":"passed","time":{"start":1756605079888,"stop":1756605159440,"duration":79552}},{"uid":"3e28a17fe0723c04","reportUrl":"../5530//#testresult/3e28a17fe0723c04","status":"unknown","time":{}},{"uid":"d13da8035ac96d89","reportUrl":"../5520//#testresult/d13da8035ac96d89","status":"passed","time":{"start":1756432312584,"stop":1756432392123,"duration":79539}},{"uid":"8b8017474e4879fd","reportUrl":"../5514//#testresult/8b8017474e4879fd","status":"unknown","time":{}},{"uid":"50b1270c0e92c2a4","reportUrl":"../5513//#testresult/50b1270c0e92c2a4","status":"passed","time":{"start":1756259598580,"stop":1756259677057,"duration":78477}},{"uid":"fa102d16d8313a4d","reportUrl":"../5511//#testresult/fa102d16d8313a4d","status":"passed","time":{"start":1756175355066,"stop":1756175434688,"duration":79622}},{"uid":"8bfd35d065e32d77","reportUrl":"../5497//#testresult/8bfd35d065e32d77","status":"passed","time":{"start":1756086576236,"stop":1756086655848,"duration":79612}},{"uid":"7d25ea4a4221c5af","reportUrl":"../5496//#testresult/7d25ea4a4221c5af","status":"passed","time":{"start":1756000256176,"stop":1756000335797,"duration":79621}},{"uid":"19d717a6ed26177","reportUrl":"../5494//#testresult/19d717a6ed26177","status":"passed","time":{"start":1755913881483,"stop":1755913960776,"duration":79293}},{"uid":"bb4831194660309f","reportUrl":"../5491//#testresult/bb4831194660309f","status":"passed","time":{"start":1755827523966,"stop":1755827602199,"duration":78233}},{"uid":"bc95ef6f63520267","reportUrl":"../5485//#testresult/bc95ef6f63520267","status":"passed","time":{"start":1755741025013,"stop":1755741104395,"duration":79382}},{"uid":"e9c6d992d36afb14","reportUrl":"../5478//#testresult/e9c6d992d36afb14","status":"passed","time":{"start":1755654615599,"stop":1755654694694,"duration":79095}},{"uid":"976f2110db2ecdb6","reportUrl":"../5462//#testresult/976f2110db2ecdb6","status":"passed","time":{"start":1755568226391,"stop":1755568307681,"duration":81290}},{"uid":"8ad6954a57ed2c1a","reportUrl":"../5456//#testresult/8ad6954a57ed2c1a","status":"passed","time":{"start":1755481848317,"stop":1755481927398,"duration":79081}},{"uid":"269b1800d19465a6","reportUrl":"../5454//#testresult/269b1800d19465a6","status":"passed","time":{"start":1755395420661,"stop":1755395499838,"duration":79177}}]},"tags":["asyncio","abort_on_fail"]},"source":"c63b90fcecdf6ebc.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}