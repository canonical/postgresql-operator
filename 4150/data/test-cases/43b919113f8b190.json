{"uid":"43b919113f8b190","name":"test_full_cluster_restart[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"49b54a769a8dddb0f8825db8919381ac","time":{"start":1742782292585,"stop":1742782395499,"duration":102914},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1742780162418,"stop":1742780162418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1742780162418,"stop":1742780162418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1742780162418,"stop":1742780162537,"duration":119},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1742782289691,"stop":1742782289691,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1742782289691,"stop":1742782289691,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1742782289691,"stop":1742782291550,"duration":1859},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1742782291550,"stop":1742782292584,"duration":1034},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","status":"passed","steps":[],"attachments":[{"uid":"f90c8d2228490735","name":"log","source":"f90c8d2228490735.txt","type":"text/plain","size":778}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1742782395499,"stop":1742782397709,"duration":2210},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1742782397710,"stop":1742782399706,"duration":1996},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1742782399706,"stop":1742782400724,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1742782400725,"stop":1742782400725,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1742783137092,"stop":1742783137702,"duration":610},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1742783137703,"stop":1742783137703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1742783137703,"stop":1742783137703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1742783137703,"stop":1742783137703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1944-570"},{"name":"thread","value":"14926-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"241a388bf16646f4","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":59,"broken":26,"skipped":8,"passed":274,"unknown":8,"total":375},"items":[{"uid":"52b80bfadd9ba1d7","reportUrl":"../4149//#testresult/52b80bfadd9ba1d7","status":"passed","time":{"start":1742696152989,"stop":1742696254568,"duration":101579}},{"uid":"15941fe4ccd3cea6","reportUrl":"../4148//#testresult/15941fe4ccd3cea6","status":"passed","time":{"start":1742609378206,"stop":1742609518865,"duration":140659}},{"uid":"48f1cef5c3f77a15","reportUrl":"../4134//#testresult/48f1cef5c3f77a15","status":"passed","time":{"start":1742523064006,"stop":1742523221954,"duration":157948}},{"uid":"92232801ec37a237","reportUrl":"../4131//#testresult/92232801ec37a237","status":"passed","time":{"start":1742436732374,"stop":1742436829649,"duration":97275}},{"uid":"9cce74080c19331c","reportUrl":"../4124//#testresult/9cce74080c19331c","status":"passed","time":{"start":1742350390627,"stop":1742350528481,"duration":137854}},{"uid":"96a7d329d7b4778d","reportUrl":"../4119//#testresult/96a7d329d7b4778d","status":"passed","time":{"start":1742264176579,"stop":1742264262994,"duration":86415}},{"uid":"54d405ab313cf214","reportUrl":"../4117//#testresult/54d405ab313cf214","status":"passed","time":{"start":1742004805356,"stop":1742004905077,"duration":99721}},{"uid":"55938e143b03fa26","reportUrl":"../4116//#testresult/55938e143b03fa26","status":"passed","time":{"start":1741918317998,"stop":1741918428989,"duration":110991}},{"uid":"7986b5475a6dbb98","reportUrl":"../4104//#testresult/7986b5475a6dbb98","status":"passed","time":{"start":1741832032205,"stop":1741832130234,"duration":98029}},{"uid":"af505b4511508448","reportUrl":"../4091//#testresult/af505b4511508448","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fafc7453a10 state=finished raised AssertionError>]","time":{"start":1741745573025,"stop":1741745838576,"duration":265551}},{"uid":"4de7e52476276c24","reportUrl":"../4079//#testresult/4de7e52476276c24","status":"failed","statusDetails":"AssertionError: Unable to clear up continuous_writes table\nassert 'False' == 'True'\n  \n  - True\n  + False","time":{"start":1741658847550,"stop":1741659400396,"duration":552846}},{"uid":"5f396824a03c9f97","reportUrl":"../4072//#testresult/5f396824a03c9f97","status":"failed","statusDetails":"AssertionError: testing.postgresql-2: writes not continuing to DB (current writes: 31 - previous writes: 31)","time":{"start":1741572817208,"stop":1741573093756,"duration":276548}},{"uid":"724ce4ff6af0b3f6","reportUrl":"../4071//#testresult/724ce4ff6af0b3f6","status":"passed","time":{"start":1741486238277,"stop":1741486342651,"duration":104374}},{"uid":"66c6628a6fda2c0e","reportUrl":"../4069//#testresult/66c6628a6fda2c0e","status":"failed","statusDetails":"AssertionError: testing.postgresql-2: writes not continuing to DB (current writes: 45 - previous writes: 45)","time":{"start":1741399919465,"stop":1741400574955,"duration":655490}},{"uid":"485855566270f5ce","reportUrl":"../4065//#testresult/485855566270f5ce","status":"passed","time":{"start":1741313242588,"stop":1741313337948,"duration":95360}},{"uid":"a7e3ca6fe4677f45","reportUrl":"../4063//#testresult/a7e3ca6fe4677f45","status":"passed","time":{"start":1741226856845,"stop":1741226949247,"duration":92402}},{"uid":"a88ab16af428d344","reportUrl":"../4059//#testresult/a88ab16af428d344","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f79078c7a10 state=finished raised AssertionError>]","time":{"start":1741140596084,"stop":1741140854591,"duration":258507}},{"uid":"f0a76d840c5d18e5","reportUrl":"../4054//#testresult/f0a76d840c5d18e5","status":"passed","time":{"start":1741055141750,"stop":1741055352629,"duration":210879}},{"uid":"b5ffd8a2e9d66774","reportUrl":"../4050//#testresult/b5ffd8a2e9d66774","status":"passed","time":{"start":1740967737552,"stop":1740967823506,"duration":85954}},{"uid":"a4094e41eae369e7","reportUrl":"../4049//#testresult/a4094e41eae369e7","status":"passed","time":{"start":1740881366242,"stop":1740881505176,"duration":138934}}]},"tags":["asyncio","abort_on_fail"]},"source":"43b919113f8b190.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}