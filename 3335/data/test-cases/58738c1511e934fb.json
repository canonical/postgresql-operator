{"uid":"58738c1511e934fb","name":"test_full_cluster_restart[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"49b54a769a8dddb0f8825db8919381ac","time":{"start":1726970886345,"stop":1726970996442,"duration":110097},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1726968840108,"stop":1726968840108,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1726968840108,"stop":1726968840268,"duration":160},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1726968840108,"stop":1726968840108,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1726970877720,"stop":1726970885302,"duration":7582},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1726970877720,"stop":1726970877720,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1726970877720,"stop":1726970877720,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1726970885302,"stop":1726970886344,"duration":1042},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","status":"passed","steps":[],"attachments":[{"uid":"5b972005a1a3fc2c","name":"log","source":"5b972005a1a3fc2c.txt","type":"text/plain","size":470}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1726970996442,"stop":1726970999636,"duration":3194},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1726970999636,"stop":1726971007277,"duration":7641},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1726971007278,"stop":1726971008299,"duration":1021},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1726971008299,"stop":1726971008299,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1726971379799,"stop":1726971380541,"duration":742},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1726971380542,"stop":1726971380542,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1726971380542,"stop":1726971380542,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1726971380542,"stop":1726971380542,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1148-442"},{"name":"thread","value":"9950-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"3dd415e57430b2e1","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":45,"broken":15,"skipped":2,"passed":140,"unknown":4,"total":206},"items":[{"uid":"4f52e78248504c4d","reportUrl":"../3334//#testresult/4f52e78248504c4d","status":"unknown","time":{}},{"uid":"2e71ffcef88aa9cd","reportUrl":"../3324//#testresult/2e71ffcef88aa9cd","status":"passed","time":{"start":1726798307685,"stop":1726798405290,"duration":97605}},{"uid":"95655c872e41b6c6","reportUrl":"../3313//#testresult/95655c872e41b6c6","status":"unknown","time":{}},{"uid":"1afe88ea0f5d658e","reportUrl":"../3298//#testresult/1afe88ea0f5d658e","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f8bf1711ea0 state=finished raised AssertionError>]","time":{"start":1726625221284,"stop":1726625495014,"duration":273730}},{"uid":"cb8cffc73736afac","reportUrl":"../3285//#testresult/cb8cffc73736afac","status":"passed","time":{"start":1726538719330,"stop":1726538860127,"duration":140797}},{"uid":"e0fcfb578d00f3e2","reportUrl":"../3276//#testresult/e0fcfb578d00f3e2","status":"passed","time":{"start":1726452202161,"stop":1726452300781,"duration":98620}},{"uid":"c1acd1008280058a","reportUrl":"../3275//#testresult/c1acd1008280058a","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f922d4e7730 state=finished raised AssertionError>]","time":{"start":1726366245193,"stop":1726366521888,"duration":276695}},{"uid":"3b0afbd94d3c9abc","reportUrl":"../3272//#testresult/3b0afbd94d3c9abc","status":"passed","time":{"start":1726279778954,"stop":1726279882376,"duration":103422}},{"uid":"66ed591445419885","reportUrl":"../3267//#testresult/66ed591445419885","status":"passed","time":{"start":1726193426684,"stop":1726193567998,"duration":141314}},{"uid":"874a94317a920fe9","reportUrl":"../3254//#testresult/874a94317a920fe9","status":"passed","time":{"start":1726106869051,"stop":1726107015315,"duration":146264}},{"uid":"bed1eaaab7c6571c","reportUrl":"../3240//#testresult/bed1eaaab7c6571c","status":"passed","time":{"start":1726020773450,"stop":1726020899067,"duration":125617}},{"uid":"fe7814900a768f5b","reportUrl":"../3223//#testresult/fe7814900a768f5b","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fbb32158820 state=finished raised AssertionError>]","time":{"start":1725847476061,"stop":1725847754466,"duration":278405}},{"uid":"3e271a4eef1fc6fa","reportUrl":"../3217//#testresult/3e271a4eef1fc6fa","status":"passed","time":{"start":1725761322393,"stop":1725761520418,"duration":198025}},{"uid":"78c37f244e95ad95","reportUrl":"../3216//#testresult/78c37f244e95ad95","status":"passed","time":{"start":1725674942775,"stop":1725675073638,"duration":130863}},{"uid":"bfdbbc0dbc96fc36","reportUrl":"../3211//#testresult/bfdbbc0dbc96fc36","status":"passed","time":{"start":1725588332558,"stop":1725588488875,"duration":156317}},{"uid":"7f76d8eca8290997","reportUrl":"../3203//#testresult/7f76d8eca8290997","status":"passed","time":{"start":1725501882655,"stop":1725501975961,"duration":93306}},{"uid":"6b2c63f673468657","reportUrl":"../3195//#testresult/6b2c63f673468657","status":"passed","time":{"start":1725415831475,"stop":1725415931640,"duration":100165}},{"uid":"cb1583343bef47e","reportUrl":"../3189//#testresult/cb1583343bef47e","status":"passed","time":{"start":1725329342696,"stop":1725329489218,"duration":146522}},{"uid":"2b5373288309baad","reportUrl":"../3182//#testresult/2b5373288309baad","status":"passed","time":{"start":1725242699309,"stop":1725242791866,"duration":92557}},{"uid":"f89faf84e3a386b6","reportUrl":"../3177//#testresult/f89faf84e3a386b6","status":"passed","time":{"start":1725069911239,"stop":1725070087555,"duration":176316}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"58738c1511e934fb.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}