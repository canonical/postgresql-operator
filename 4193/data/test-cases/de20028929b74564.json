{"uid":"de20028929b74564","name":"test_network_cut","fullName":"tests.integration.ha_tests.test_self_healing#test_network_cut","historyId":"6b9f6734f6f55bf616f6dd52eb37e3bd","time":{"start":1743128357797,"stop":1743128614869,"duration":257072},"description":"Completely cut and restore network.","descriptionHtml":"<p>Completely cut and restore network.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1743126228722,"stop":1743126228722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1743126228722,"stop":1743126228862,"duration":140},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1743126228722,"stop":1743126228722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1743127282312,"stop":1743127286442,"duration":4130},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1743128357796,"stop":1743128357797,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1743128357797,"stop":1743128357797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Completely cut and restore network.","status":"passed","steps":[],"attachments":[{"uid":"c47d2ca4b7be27f0","name":"log","source":"c47d2ca4b7be27f0.txt","type":"text/plain","size":3722}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1743128614869,"stop":1743128615887,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1743128615888,"stop":1743128615888,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1743129226612,"stop":1743129359165,"duration":132553},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f14f39b2030 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1743129359166,"stop":1743129359550,"duration":384},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1743129359551,"stop":1743129359551,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1743129359551,"stop":1743129359551,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1743129359551,"stop":1743129359551,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1970-182"},{"name":"thread","value":"14906-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"63c3396b05a49682","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":21,"broken":36,"skipped":180,"passed":131,"unknown":11,"total":379},"items":[{"uid":"f940aac9e5d1bcc8","reportUrl":"../4179//#testresult/f940aac9e5d1bcc8","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1743042610659,"stop":1743042610659,"duration":0}},{"uid":"664310a77a40f36","reportUrl":"../4164//#testresult/664310a77a40f36","status":"failed","statusDetails":"AssertionError: secondary not up to date with the cluster after restarting.","time":{"start":1742955878146,"stop":1742956604197,"duration":726051}},{"uid":"26d1a954848f8","reportUrl":"../4160//#testresult/26d1a954848f8","status":"passed","time":{"start":1742870120596,"stop":1742870810015,"duration":689419}},{"uid":"61d9ad3beb2d471b","reportUrl":"../4150//#testresult/61d9ad3beb2d471b","status":"passed","time":{"start":1742782599352,"stop":1742782959335,"duration":359983}},{"uid":"796869429faab7fc","reportUrl":"../4149//#testresult/796869429faab7fc","status":"failed","statusDetails":"AssertionError: testing.postgresql-0: writes to the db were missed: count of actual writes different from the max number written.","time":{"start":1742696463406,"stop":1742696869456,"duration":406050}},{"uid":"3280c2d60a592a19","reportUrl":"../4148//#testresult/3280c2d60a592a19","status":"passed","time":{"start":1742609714870,"stop":1742610217790,"duration":502920}},{"uid":"551549f6ca089fc8","reportUrl":"../4134//#testresult/551549f6ca089fc8","status":"passed","time":{"start":1742523406917,"stop":1742523936372,"duration":529455}},{"uid":"74dae8a2031ec82b","reportUrl":"../4131//#testresult/74dae8a2031ec82b","status":"passed","time":{"start":1742437051256,"stop":1742437411810,"duration":360554}},{"uid":"bcb9296812ad8dfc","reportUrl":"../4124//#testresult/bcb9296812ad8dfc","status":"passed","time":{"start":1742350695902,"stop":1742351197673,"duration":501771}},{"uid":"95ee71a67701b863","reportUrl":"../4119//#testresult/95ee71a67701b863","status":"failed","statusDetails":"AssertionError: testing.postgresql-0: writes to the db were missed: count of actual writes different from the max number written.","time":{"start":1742264487075,"stop":1742264997088,"duration":510013}},{"uid":"8431aa8043bdf415","reportUrl":"../4117//#testresult/8431aa8043bdf415","status":"failed","statusDetails":"AssertionError: testing.postgresql-0: writes to the db were missed: count of actual writes different from the max number written.","time":{"start":1742005092330,"stop":1742005647399,"duration":555069}},{"uid":"3708836238fa4f5d","reportUrl":"../4116//#testresult/3708836238fa4f5d","status":"passed","time":{"start":1741918772763,"stop":1741919292184,"duration":519421}},{"uid":"5429c709f708eb97","reportUrl":"../4104//#testresult/5429c709f708eb97","status":"passed","time":{"start":1741832360285,"stop":1741832941302,"duration":581017}},{"uid":"a23d3b8054cbbed6","reportUrl":"../4091//#testresult/a23d3b8054cbbed6","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1741746154703,"stop":1741746154703,"duration":0}},{"uid":"3afdfe1b607930cb","reportUrl":"../4079//#testresult/3afdfe1b607930cb","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1741660673934,"stop":1741660673934,"duration":0}},{"uid":"f22e87db351fa525","reportUrl":"../4072//#testresult/f22e87db351fa525","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1741573401713,"stop":1741573401713,"duration":0}},{"uid":"b62f078ae503ac2d","reportUrl":"../4071//#testresult/b62f078ae503ac2d","status":"passed","time":{"start":1741486545831,"stop":1741487065874,"duration":520043}},{"uid":"92e2a23ee545ee59","reportUrl":"../4069//#testresult/92e2a23ee545ee59","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1741401099305,"stop":1741401099305,"duration":0}},{"uid":"b87e4c4dac5b4ede","reportUrl":"../4065//#testresult/b87e4c4dac5b4ede","status":"passed","time":{"start":1741313528521,"stop":1741314044367,"duration":515846}},{"uid":"46e1dd9d2d0bb08","reportUrl":"../4063//#testresult/46e1dd9d2d0bb08","status":"passed","time":{"start":1741227187354,"stop":1741227576052,"duration":388698}}]},"tags":["asyncio","abort_on_fail"]},"source":"de20028929b74564.json","parameterValues":[]}