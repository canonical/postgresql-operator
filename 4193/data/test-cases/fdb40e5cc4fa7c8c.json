{"uid":"fdb40e5cc4fa7c8c","name":"test_interruption_db_process[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"546685934c34cfff7f60423bbdce2bf1","time":{"start":1743127370820,"stop":1743127450526,"duration":79706},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1743126228722,"stop":1743126228722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1743126228722,"stop":1743126228862,"duration":140},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1743126228722,"stop":1743126228722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1743127282312,"stop":1743127286442,"duration":4130},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1743127370819,"stop":1743127370819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1743127370820,"stop":1743127370820,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"ac96b339d2bf151a","name":"log","source":"ac96b339d2bf151a.txt","type":"text/plain","size":783}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1743127450527,"stop":1743127451546,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1743127451547,"stop":1743127451547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1743129226612,"stop":1743129359165,"duration":132553},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f14f39b2030 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1743129359166,"stop":1743129359550,"duration":384},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1743129359551,"stop":1743129359551,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1743129359551,"stop":1743129359551,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1743129359551,"stop":1743129359551,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1970-182"},{"name":"thread","value":"14906-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"441a43e80b77970a","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":3,"passed":208,"unknown":7,"total":219},"items":[{"uid":"8832e760175f5199","reportUrl":"../4179//#testresult/8832e760175f5199","status":"passed","time":{"start":1743041031138,"stop":1743041112809,"duration":81671}},{"uid":"c33bc57e04f86fca","reportUrl":"../4164//#testresult/c33bc57e04f86fca","status":"passed","time":{"start":1742954729172,"stop":1742954811212,"duration":82040}},{"uid":"3165bb3bfd2c9147","reportUrl":"../4160//#testresult/3165bb3bfd2c9147","status":"passed","time":{"start":1742868946157,"stop":1742869026963,"duration":80806}},{"uid":"4c2bd0e9768ebcab","reportUrl":"../4150//#testresult/4c2bd0e9768ebcab","status":"passed","time":{"start":1742781518811,"stop":1742781600504,"duration":81693}},{"uid":"a9dc5ef2bf502edb","reportUrl":"../4149//#testresult/a9dc5ef2bf502edb","status":"passed","time":{"start":1742695342694,"stop":1742695423474,"duration":80780}},{"uid":"3b8999f767fa99b7","reportUrl":"../4148//#testresult/3b8999f767fa99b7","status":"passed","time":{"start":1742608639649,"stop":1742608716364,"duration":76715}},{"uid":"c9388f99e84d2b1f","reportUrl":"../4134//#testresult/c9388f99e84d2b1f","status":"passed","time":{"start":1742522315931,"stop":1742522396814,"duration":80883}},{"uid":"924bf0c1313e840a","reportUrl":"../4131//#testresult/924bf0c1313e840a","status":"passed","time":{"start":1742435858354,"stop":1742435940061,"duration":81707}},{"uid":"e954bfbb7d0d9292","reportUrl":"../4124//#testresult/e954bfbb7d0d9292","status":"passed","time":{"start":1742349670084,"stop":1742349751923,"duration":81839}},{"uid":"c4726a349d9de5cb","reportUrl":"../4119//#testresult/c4726a349d9de5cb","status":"passed","time":{"start":1742263418316,"stop":1742263495458,"duration":77142}},{"uid":"b0186ee8cff28ebe","reportUrl":"../4117//#testresult/b0186ee8cff28ebe","status":"passed","time":{"start":1742004003101,"stop":1742004084894,"duration":81793}},{"uid":"b393cff45540d739","reportUrl":"../4116//#testresult/b393cff45540d739","status":"passed","time":{"start":1741917532536,"stop":1741917614459,"duration":81923}},{"uid":"e6d62203e2eb97cd","reportUrl":"../4104//#testresult/e6d62203e2eb97cd","status":"passed","time":{"start":1741831165685,"stop":1741831247517,"duration":81832}},{"uid":"927c60c1031d32a2","reportUrl":"../4091//#testresult/927c60c1031d32a2","status":"passed","time":{"start":1741744822463,"stop":1741744902397,"duration":79934}},{"uid":"b7e4fdc81ae86af6","reportUrl":"../4079//#testresult/b7e4fdc81ae86af6","status":"passed","time":{"start":1741658090985,"stop":1741658171908,"duration":80923}},{"uid":"5e0382ad89cded90","reportUrl":"../4072//#testresult/5e0382ad89cded90","status":"passed","time":{"start":1741571965222,"stop":1741572042060,"duration":76838}},{"uid":"9f16fcf3d94b0e9e","reportUrl":"../4071//#testresult/9f16fcf3d94b0e9e","status":"passed","time":{"start":1741485479754,"stop":1741485564663,"duration":84909}},{"uid":"1b13ba6b40a447a2","reportUrl":"../4069//#testresult/1b13ba6b40a447a2","status":"passed","time":{"start":1741399166605,"stop":1741399248537,"duration":81932}},{"uid":"935d80b9eaf82be8","reportUrl":"../4065//#testresult/935d80b9eaf82be8","status":"passed","time":{"start":1741312524124,"stop":1741312605905,"duration":81781}},{"uid":"7283cd5403dfe8ef","reportUrl":"../4063//#testresult/7283cd5403dfe8ef","status":"passed","time":{"start":1741226126184,"stop":1741226208069,"duration":81885}}]},"tags":["asyncio","abort_on_fail"]},"source":"fdb40e5cc4fa7c8c.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}