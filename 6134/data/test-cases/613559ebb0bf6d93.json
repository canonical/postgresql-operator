{"uid":"613559ebb0bf6d93","name":"test_interruption_db_process[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"546685934c34cfff7f60423bbdce2bf1","time":{"start":1764553532675,"stop":1764553611327,"duration":78652},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1764552743735,"stop":1764552743735,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1764552743736,"stop":1764552743736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1764552743736,"stop":1764552743872,"duration":136},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1764553447778,"stop":1764553451964,"duration":4186},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1764553532675,"stop":1764553532675,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1764553532675,"stop":1764553532675,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"fe05ccf7e6be6221","name":"log","source":"fe05ccf7e6be6221.txt","type":"text/plain","size":779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1764553611327,"stop":1764553612345,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1764553612346,"stop":1764553612346,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1764555524789,"stop":1764555734368,"duration":209579},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fdde27b4350 state=finished raised ConnectionError>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1764555734369,"stop":1764555734741,"duration":372},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"14808-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"32e5d895ade9e8cc","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":1,"broken":2,"skipped":14,"passed":400,"unknown":34,"total":451},"items":[{"uid":"981b49fbfec684db","reportUrl":"../6131//#testresult/981b49fbfec684db","status":"passed","time":{"start":1764466961120,"stop":1764467041077,"duration":79957}},{"uid":"3590ad7355b4d16","reportUrl":"../6130//#testresult/3590ad7355b4d16","status":"passed","time":{"start":1764380582247,"stop":1764380661796,"duration":79549}},{"uid":"396eb1328df37ee3","reportUrl":"../6125//#testresult/396eb1328df37ee3","status":"passed","time":{"start":1764294361321,"stop":1764294441134,"duration":79813}},{"uid":"3812915585b1efb7","reportUrl":"../6120//#testresult/3812915585b1efb7","status":"passed","time":{"start":1764207763076,"stop":1764207840738,"duration":77662}},{"uid":"7d818783d7215a65","reportUrl":"../6109//#testresult/7d818783d7215a65","status":"passed","time":{"start":1764121601966,"stop":1764121680624,"duration":78658}},{"uid":"eb0b550148245696","reportUrl":"../6092//#testresult/eb0b550148245696","status":"passed","time":{"start":1763948499605,"stop":1763948578395,"duration":78790}},{"uid":"69eaf7a06597965d","reportUrl":"../6091//#testresult/69eaf7a06597965d","status":"passed","time":{"start":1763862400195,"stop":1763862479944,"duration":79749}},{"uid":"728586c57b978d10","reportUrl":"../6090//#testresult/728586c57b978d10","status":"passed","time":{"start":1763775976920,"stop":1763776056528,"duration":79608}},{"uid":"c355b8d7eb8bf6ec","reportUrl":"../6085//#testresult/c355b8d7eb8bf6ec","status":"passed","time":{"start":1763689405078,"stop":1763689485047,"duration":79969}},{"uid":"51d7d269fa3979df","reportUrl":"../6073//#testresult/51d7d269fa3979df","status":"passed","time":{"start":1763603189068,"stop":1763603269850,"duration":80782}},{"uid":"e58dc45ddeb7c11c","reportUrl":"../5996//#testresult/e58dc45ddeb7c11c","status":"unknown","time":{}},{"uid":"ecd5950e86dc5071","reportUrl":"../5988//#testresult/ecd5950e86dc5071","status":"passed","time":{"start":1762911948228,"stop":1762912027223,"duration":78995}},{"uid":"40ad9be18e08e65a","reportUrl":"../5971//#testresult/40ad9be18e08e65a","status":"passed","time":{"start":1762825471278,"stop":1762825549832,"duration":78554}},{"uid":"46fada7b50408172","reportUrl":"../5964//#testresult/46fada7b50408172","status":"passed","time":{"start":1762739070957,"stop":1762739150709,"duration":79752}},{"uid":"6e6c146f574a8a4d","reportUrl":"../5963//#testresult/6e6c146f574a8a4d","status":"passed","time":{"start":1762652638647,"stop":1762652717336,"duration":78689}},{"uid":"5ea16a593da6a2f4","reportUrl":"../5962//#testresult/5ea16a593da6a2f4","status":"unknown","time":{}},{"uid":"36afd8835797d6df","reportUrl":"../5953//#testresult/36afd8835797d6df","status":"passed","time":{"start":1762479946115,"stop":1762480025806,"duration":79691}},{"uid":"491c64ec38eb0646","reportUrl":"../5948//#testresult/491c64ec38eb0646","status":"passed","time":{"start":1762393609754,"stop":1762393689432,"duration":79678}},{"uid":"1e5676c36ff1b8d2","reportUrl":"../5947//#testresult/1e5676c36ff1b8d2","status":"passed","time":{"start":1762306937522,"stop":1762307017279,"duration":79757}},{"uid":"bc09bdcc47cf7043","reportUrl":"../5939//#testresult/bc09bdcc47cf7043","status":"passed","time":{"start":1762220601618,"stop":1762220681271,"duration":79653}}]},"tags":["asyncio","abort_on_fail"]},"source":"613559ebb0bf6d93.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}