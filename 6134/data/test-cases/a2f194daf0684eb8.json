{"uid":"a2f194daf0684eb8","name":"test_interruption_db_process[SIGKILL-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"5549e4b678b9617f3f5afa0ef2465269","time":{"start":1764553693037,"stop":1764553772845,"duration":79808},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1764552743735,"stop":1764552743735,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1764552743736,"stop":1764552743736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1764552743736,"stop":1764552743872,"duration":136},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1764553447778,"stop":1764553451964,"duration":4186},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1764553693036,"stop":1764553693036,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1764553693037,"stop":1764553693037,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"b2fc63c1c169ae83","name":"log","source":"b2fc63c1c169ae83.txt","type":"text/plain","size":775}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1764553772845,"stop":1764553773863,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1764553773864,"stop":1764553773864,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1764555524789,"stop":1764555734368,"duration":209579},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fdde27b4350 state=finished raised ConnectionError>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1764555734369,"stop":1764555734741,"duration":372},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"14808-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGKILL'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"9ce0f93ed2ac12ca","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":2,"skipped":17,"passed":398,"unknown":34,"total":451},"items":[{"uid":"e127d29b25f4d0a5","reportUrl":"../6131//#testresult/e127d29b25f4d0a5","status":"passed","time":{"start":1764467121837,"stop":1764467200603,"duration":78766}},{"uid":"a72c9dfa22368ba6","reportUrl":"../6130//#testresult/a72c9dfa22368ba6","status":"passed","time":{"start":1764380743468,"stop":1764380822346,"duration":78878}},{"uid":"9a1378094460cb4b","reportUrl":"../6125//#testresult/9a1378094460cb4b","status":"passed","time":{"start":1764294522892,"stop":1764294602664,"duration":79772}},{"uid":"d61e4440b860eebb","reportUrl":"../6120//#testresult/d61e4440b860eebb","status":"passed","time":{"start":1764207920424,"stop":1764207998126,"duration":77702}},{"uid":"279e36a2d053d830","reportUrl":"../6109//#testresult/279e36a2d053d830","status":"passed","time":{"start":1764121761261,"stop":1764121841136,"duration":79875}},{"uid":"6e316965b457e352","reportUrl":"../6092//#testresult/6e316965b457e352","status":"passed","time":{"start":1763948659250,"stop":1763948739029,"duration":79779}},{"uid":"82473aa90384781","reportUrl":"../6091//#testresult/82473aa90384781","status":"passed","time":{"start":1763862560844,"stop":1763862640515,"duration":79671}},{"uid":"690b38b10acf9706","reportUrl":"../6090//#testresult/690b38b10acf9706","status":"passed","time":{"start":1763776137232,"stop":1763776216879,"duration":79647}},{"uid":"15880778f3ec8cf0","reportUrl":"../6085//#testresult/15880778f3ec8cf0","status":"passed","time":{"start":1763689565793,"stop":1763689644469,"duration":78676}},{"uid":"d799fcbc98836e9f","reportUrl":"../6073//#testresult/d799fcbc98836e9f","status":"passed","time":{"start":1763603352693,"stop":1763603432582,"duration":79889}},{"uid":"ca93352a69f17469","reportUrl":"../5996//#testresult/ca93352a69f17469","status":"unknown","time":{}},{"uid":"aee570abd14dac08","reportUrl":"../5988//#testresult/aee570abd14dac08","status":"passed","time":{"start":1762912109114,"stop":1762912188076,"duration":78962}},{"uid":"bf08d901a0dc5dde","reportUrl":"../5971//#testresult/bf08d901a0dc5dde","status":"passed","time":{"start":1762825630400,"stop":1762825709002,"duration":78602}},{"uid":"93c45656691c44e5","reportUrl":"../5964//#testresult/93c45656691c44e5","status":"passed","time":{"start":1762739233705,"stop":1762739313646,"duration":79941}},{"uid":"30ec3a4343ca517","reportUrl":"../5963//#testresult/30ec3a4343ca517","status":"passed","time":{"start":1762652798017,"stop":1762652876625,"duration":78608}},{"uid":"8652509823eba5b8","reportUrl":"../5962//#testresult/8652509823eba5b8","status":"unknown","time":{}},{"uid":"f699b9d2432e3787","reportUrl":"../5953//#testresult/f699b9d2432e3787","status":"passed","time":{"start":1762480106577,"stop":1762480185303,"duration":78726}},{"uid":"613800705e384959","reportUrl":"../5948//#testresult/613800705e384959","status":"passed","time":{"start":1762393770233,"stop":1762393849009,"duration":78776}},{"uid":"7eb36a140f4d0b3d","reportUrl":"../5947//#testresult/7eb36a140f4d0b3d","status":"passed","time":{"start":1762307097927,"stop":1762307177561,"duration":79634}},{"uid":"3bd9e59f13284e72","reportUrl":"../5939//#testresult/3bd9e59f13284e72","status":"passed","time":{"start":1762220761983,"stop":1762220840799,"duration":78816}}]},"tags":["asyncio","abort_on_fail"]},"source":"a2f194daf0684eb8.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGKILL'"]}