{"uid":"aa5a728cadda872e","name":"test_network_cut","fullName":"tests.integration.ha_tests.test_self_healing#test_network_cut","historyId":"6b9f6734f6f55bf616f6dd52eb37e3bd","time":{"start":1764554638993,"stop":1764554927150,"duration":288157},"description":"Completely cut and restore network.","descriptionHtml":"<p>Completely cut and restore network.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1764552743735,"stop":1764552743735,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1764552743736,"stop":1764552743736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1764552743736,"stop":1764552743872,"duration":136},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1764553447778,"stop":1764553451964,"duration":4186},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1764554638993,"stop":1764554638993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1764554638993,"stop":1764554638993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Completely cut and restore network.","status":"passed","steps":[],"attachments":[{"uid":"aea155adaa1e2778","name":"log","source":"aea155adaa1e2778.txt","type":"text/plain","size":3248}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1764554927151,"stop":1764554928171,"duration":1020},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1764554928172,"stop":1764554928172,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1764555524789,"stop":1764555734368,"duration":209579},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fdde27b4350 state=finished raised ConnectionError>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1764555734369,"stop":1764555734741,"duration":372},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"14808-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"1ef90a1fa870db4e","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":37,"broken":50,"skipped":257,"passed":229,"unknown":38,"total":611},"items":[{"uid":"59a1545338014de4","reportUrl":"../6131//#testresult/59a1545338014de4","status":"passed","time":{"start":1764467742352,"stop":1764468047269,"duration":304917}},{"uid":"d307770e06eee170","reportUrl":"../6130//#testresult/d307770e06eee170","status":"passed","time":{"start":1764381486380,"stop":1764381705966,"duration":219586}},{"uid":"654cd327a93460fe","reportUrl":"../6125//#testresult/654cd327a93460fe","status":"passed","time":{"start":1764295467025,"stop":1764295719521,"duration":252496}},{"uid":"5c92bbfa1c1d7d74","reportUrl":"../6120//#testresult/5c92bbfa1c1d7d74","status":"passed","time":{"start":1764209131727,"stop":1764209356221,"duration":224494}},{"uid":"4813c41d87d2791b","reportUrl":"../6109//#testresult/4813c41d87d2791b","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fd74e9918e0 state=finished raised AssertionError>]","time":{"start":1764122408916,"stop":1764122547704,"duration":138788}},{"uid":"7522be83fe6065a3","reportUrl":"../6092//#testresult/7522be83fe6065a3","status":"passed","time":{"start":1763949269020,"stop":1763949499760,"duration":230740}},{"uid":"31243382d30f1e6c","reportUrl":"../6091//#testresult/31243382d30f1e6c","status":"passed","time":{"start":1763863252418,"stop":1763863473605,"duration":221187}},{"uid":"862cefeef92c48f7","reportUrl":"../6090//#testresult/862cefeef92c48f7","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1763777401846,"stop":1763777401846,"duration":0}},{"uid":"629153eed4027240","reportUrl":"../6085//#testresult/629153eed4027240","status":"passed","time":{"start":1763690197082,"stop":1763690426654,"duration":229572}},{"uid":"242f514c039b5b3a","reportUrl":"../6073//#testresult/242f514c039b5b3a","status":"failed","statusDetails":"AssertionError: testing.postgresql-2: writes not continuing to DB (current writes: 5 - previous writes: 5)","time":{"start":1763604022166,"stop":1763604275821,"duration":253655}},{"uid":"43eb00a1caa2da3e","reportUrl":"../5996//#testresult/43eb00a1caa2da3e","status":"unknown","time":{}},{"uid":"9717e1830db4a222","reportUrl":"../5988//#testresult/9717e1830db4a222","status":"passed","time":{"start":1762912729635,"stop":1762912916670,"duration":187035}},{"uid":"76b655179f0cb6f3","reportUrl":"../5971//#testresult/76b655179f0cb6f3","status":"passed","time":{"start":1762826260049,"stop":1762826481496,"duration":221447}},{"uid":"e8dc99396db4c628","reportUrl":"../5964//#testresult/e8dc99396db4c628","status":"failed","statusDetails":"AssertionError: testing.postgresql-2: writes not continuing to DB (current writes: 5 - previous writes: 5)","time":{"start":1762739932335,"stop":1762740184793,"duration":252458}},{"uid":"15043c86e4087a34","reportUrl":"../5963//#testresult/15043c86e4087a34","status":"passed","time":{"start":1762653721567,"stop":1762653947482,"duration":225915}},{"uid":"ef79428d272b36b2","reportUrl":"../5962//#testresult/ef79428d272b36b2","status":"unknown","time":{}},{"uid":"8854e8e09f5afc7b","reportUrl":"../5953//#testresult/8854e8e09f5afc7b","status":"passed","time":{"start":1762480840892,"stop":1762481060545,"duration":219653}},{"uid":"dfc49fb90487566d","reportUrl":"../5948//#testresult/dfc49fb90487566d","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1762394899084,"stop":1762394899084,"duration":0}},{"uid":"8a98b353fa1184e6","reportUrl":"../5947//#testresult/8a98b353fa1184e6","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fa7ab9a8770 state=finished raised Exception>]","time":{"start":1762308022808,"stop":1762308776493,"duration":753685}},{"uid":"1967c8b996c27714","reportUrl":"../5939//#testresult/1967c8b996c27714","status":"passed","time":{"start":1762221724182,"stop":1762221946324,"duration":222142}}]},"tags":["asyncio","abort_on_fail"]},"source":"aa5a728cadda872e.json","parameterValues":[]}