{"uid":"9f62ee4c5d23fddd","name":"test_switchover","fullName":"tests.integration.ha_tests.test_async_replication#test_switchover","historyId":"24eac9946681c03475b96f6e8743304e","time":{"start":1734833133549,"stop":1734833849170,"duration":715621},"description":"Test switching over to the second cluster.","descriptionHtml":"<p>Test switching over to the second cluster.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1734831410938,"stop":1734831410938,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1734831410939,"stop":1734831411065,"duration":126},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1734831410939,"stop":1734831410939,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1734831411065,"stop":1734831411065,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1734831411065,"stop":1734831411700,"duration":635},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model_continuous_writes","time":{"start":1734833133549,"stop":1734833133549,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1734833133549,"stop":1734833133549,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test switching over to the second cluster.","status":"passed","steps":[],"attachments":[{"uid":"9d77898ab23373e6","name":"log","source":"9d77898ab23373e6.txt","type":"text/plain","size":5318}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"second_model_continuous_writes::finalizer","time":{"start":1734833849170,"stop":1734833855211,"duration":6041},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1734833855211,"stop":1734833855211,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1734836384452,"stop":1734836384476,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1734836384477,"stop":1734836386775,"duration":2298},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1734836386776,"stop":1734836386777,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1734836386777,"stop":1734836386777,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1734836386777,"stop":1734836386777,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"fv-az665-742"},{"name":"thread","value":"16039-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c67c2c04bcd83641","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":8,"skipped":14,"passed":194,"unknown":5,"total":221},"items":[{"uid":"c9e7976d7f94702d","reportUrl":"../3704//#testresult/c9e7976d7f94702d","status":"passed","time":{"start":1734746628012,"stop":1734747324764,"duration":696752}},{"uid":"bf5dac3e855c3432","reportUrl":"../3702//#testresult/bf5dac3e855c3432","status":"passed","time":{"start":1734660152027,"stop":1734660829109,"duration":677082}},{"uid":"7f1406576f32e71","reportUrl":"../3697//#testresult/7f1406576f32e71","status":"passed","time":{"start":1734574026514,"stop":1734574892631,"duration":866117}},{"uid":"2cb7505721df6b91","reportUrl":"../3695//#testresult/2cb7505721df6b91","status":"passed","time":{"start":1734487180427,"stop":1734488025276,"duration":844849}},{"uid":"f1fd18a7149de60b","reportUrl":"../3693//#testresult/f1fd18a7149de60b","status":"passed","time":{"start":1734401221945,"stop":1734401960971,"duration":739026}},{"uid":"ee71f6c66664026c","reportUrl":"../3689//#testresult/ee71f6c66664026c","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [executing] waiting: Waiting for the database to be started in all units\n  postgresql/1 [idle] waiting: Waiting for the standby leader start the database","time":{"start":1734314834349,"stop":1734316860789,"duration":2026440}},{"uid":"3be06b2d8337e6cf","reportUrl":"../3688//#testresult/3be06b2d8337e6cf","status":"passed","time":{"start":1734228589031,"stop":1734229658099,"duration":1069068}},{"uid":"f8765d8fe1d0c96f","reportUrl":"../3687//#testresult/f8765d8fe1d0c96f","status":"passed","time":{"start":1734141947264,"stop":1734143014883,"duration":1067619}},{"uid":"e95fb48c43e2f9c7","reportUrl":"../3685//#testresult/e95fb48c43e2f9c7","status":"passed","time":{"start":1734055912104,"stop":1734056720577,"duration":808473}},{"uid":"19fac719dbb51d8e","reportUrl":"../3684//#testresult/19fac719dbb51d8e","status":"passed","time":{"start":1733969380835,"stop":1733970451621,"duration":1070786}},{"uid":"856d24e7f903693b","reportUrl":"../3683//#testresult/856d24e7f903693b","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1733883254551,"stop":1733883254551,"duration":0}},{"uid":"c1ec7a5ad58d0c7f","reportUrl":"../3681//#testresult/c1ec7a5ad58d0c7f","status":"passed","time":{"start":1733796565744,"stop":1733797628407,"duration":1062663}},{"uid":"3ecad32791cc58fa","reportUrl":"../3677//#testresult/3ecad32791cc58fa","status":"passed","time":{"start":1733709905015,"stop":1733710615446,"duration":710431}},{"uid":"24e230a88356a2d1","reportUrl":"../3675//#testresult/24e230a88356a2d1","status":"passed","time":{"start":1733623182338,"stop":1733623997966,"duration":815628}},{"uid":"fa3e37c241c3c23a","reportUrl":"../3674//#testresult/fa3e37c241c3c23a","status":"passed","time":{"start":1733537004850,"stop":1733537813699,"duration":808849}},{"uid":"1e0609210266bed5","reportUrl":"../3670//#testresult/1e0609210266bed5","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [executing] waiting: Restarting Patroni to rejoin the cluster\n  postgresql/1 [executing] waiting: Waiting for the database to be started in all units\n  postgresql/2 [idle] waiting: Waiting for the standby leader start the database","time":{"start":1733450461647,"stop":1733452490035,"duration":2028388}},{"uid":"7afbe3980d5780c4","reportUrl":"../3645//#testresult/7afbe3980d5780c4","status":"passed","time":{"start":1733191178968,"stop":1733191970299,"duration":791331}},{"uid":"7185724f26003260","reportUrl":"../3641//#testresult/7185724f26003260","status":"passed","time":{"start":1733105147139,"stop":1733106008332,"duration":861193}},{"uid":"de9ad49a51d8a5e6","reportUrl":"../3639//#testresult/de9ad49a51d8a5e6","status":"passed","time":{"start":1733018450411,"stop":1733019176736,"duration":726325}},{"uid":"7acbc6f641283817","reportUrl":"../3638//#testresult/7acbc6f641283817","status":"passed","time":{"start":1732932053067,"stop":1732933095861,"duration":1042794}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"9f62ee4c5d23fddd.json","parameterValues":[]}