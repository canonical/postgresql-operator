[32mINFO    [0m pytest_operator.plugin:plugin.py:734 Connecting to existing model localhost-localhost:test on unspecified cloud
[32mINFO    [0m juju.model:model.py:2098 Deploying ch:amd64/jammy/s3-integrator-17
[32mINFO    [0m juju.model:model.py:2098 Deploying ch:amd64/jammy/self-signed-certificates-72
[32mINFO    [0m juju.model:model.py:2098 Deploying local:jammy/postgresql-0
[33mWARNING [0m juju.model:model.py:1564 relate is deprecated and will be removed. Use integrate instead.
[33mWARNING [0m juju.model:model.py:1564 relate is deprecated and will be removed. Use integrate instead.
[32mINFO    [0m integration.test_backups:test_backups.py:124 configuring S3 integrator for AWS
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [allocating] waiting: waiting for machine
  postgresql-aws/1 [allocating] waiting: waiting for machine
  s3-integrator/0 [executing] maintenance: installing charm software
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: installing PostgreSQL
  postgresql-aws/1 [executing] maintenance: installing charm software
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: installing PostgreSQL
  postgresql-aws/1 [executing] maintenance: installing PostgreSQL
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [executing] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [executing] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [executing] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [executing] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-aws/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] active: 
  postgresql-aws/1 [executing] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: reconfiguring cluster
  postgresql-aws/1 [executing] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: Executing restart operation
  postgresql-aws/1 [executing] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: reconfiguring cluster
  postgresql-aws/1 [executing] waiting: awaiting for member to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] active: Primary
  postgresql-aws/1 [executing] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: initialising stanza
  postgresql-aws/1 [executing] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] active: Primary
  postgresql-aws/1 [executing] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] active: Primary
  postgresql-aws/1 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: initialising stanza
  postgresql-aws/1 [executing] active: 
  s3-integrator/0 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] active: Primary
  postgresql-aws/1 [executing] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: initialising stanza
  postgresql-aws/1 [executing] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] active: Primary
  postgresql-aws/1 [executing] active: 
[32mINFO    [0m integration.test_backups:test_backups.py:145 creating a table in the database
[32mINFO    [0m integration.test_backups:test_backups.py:154 creating a backup
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] active: Primary
  postgresql-aws/1 [idle] active: 
  s3-integrator/0 [idle] active: 
[32mINFO    [0m integration.test_backups:test_backups.py:164 listing the available backups
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  s3-integrator/0 [idle] active: 
  self-signed-certificates/0 [idle] active: 
  postgresql-aws/0 [idle] active: Primary
  postgresql-aws/1 [idle] active: 
[32mINFO    [0m integration.test_backups:test_backups.py:172 creating a second table in the database
[32mINFO    [0m integration.test_backups:test_backups.py:194 restoring the backup
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  s3-integrator/0 [idle] active: 
  self-signed-certificates/0 [idle] active: 
  postgresql-aws/0 [executing] maintenance: restoring backup
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [idle] waiting: awaiting for member to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [idle] waiting: awaiting for member to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [idle] waiting: awaiting for member to start
[32mINFO    [0m integration.test_backups:test_backups.py:209 checking that the backup was correctly restored
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] active: Primary
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: Executing restart operation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] active: Primary
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [idle] active: Primary
  postgresql-aws/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/2 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/2 [executing] maintenance: installing PostgreSQL
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: reconfiguring cluster
  postgresql-aws/2 [executing] waiting: waiting to start PostgreSQL
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: reconfiguring cluster
  postgresql-aws/2 [executing] waiting: waiting to start PostgreSQL
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [idle] active: Primary
  postgresql-aws/2 [executing] waiting: waiting to start PostgreSQL
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] maintenance: reconfiguring cluster
  postgresql-aws/2 [executing] waiting: waiting to start PostgreSQL
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [idle] active: Primary
  postgresql-aws/2 [executing] waiting: awaiting for member to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [executing] active: Primary
  postgresql-aws/2 [idle] active: 
[32mINFO    [0m integration.test_backups:test_backups.py:277 listing the available backups
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  s3-integrator/0 [idle] active: 
  self-signed-certificates/0 [idle] active: 
  postgresql-aws/0 [idle] active: 
  postgresql-aws/2 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-aws/0 [idle] active: 
  postgresql-aws/2 [idle] active: 
[32mINFO    [0m juju.model:model.py:2098 Deploying local:jammy/postgresql-1
[33mWARNING [0m juju.model:model.py:1564 relate is deprecated and will be removed. Use integrate instead.
[33mWARNING [0m juju.model:model.py:1564 relate is deprecated and will be removed. Use integrate instead.
[32mINFO    [0m integration.test_backups:test_backups.py:124 configuring S3 integrator for GCP
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [allocating] waiting: waiting for machine
  postgresql-gcp/1 [allocating] waiting: waiting for machine
  s3-integrator/0 [executing] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [allocating] waiting: waiting for machine
  postgresql-gcp/1 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [allocating] waiting: waiting for machine
  postgresql-gcp/1 [allocating] waiting: waiting for machine
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [allocating] waiting: agent initialising
  postgresql-gcp/1 [allocating] waiting: agent initialising
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: installing PostgreSQL
  postgresql-gcp/1 [executing] maintenance: installing PostgreSQL
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-gcp/1 [executing] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-gcp/1 [executing] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-gcp/1 [executing] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-gcp/1 [executing] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-gcp/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-gcp/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-gcp/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] waiting: waiting to start PostgreSQL
  postgresql-gcp/1 [idle] waiting: awaiting passwords generation
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: initialising stanza
  postgresql-gcp/1 [executing] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: initialising stanza
  postgresql-gcp/1 [executing] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: Executing restart operation
  postgresql-gcp/1 [executing] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] active: Primary
  postgresql-gcp/1 [executing] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: reconfiguring cluster
  postgresql-gcp/1 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: reconfiguring cluster
  postgresql-gcp/1 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: reconfiguring cluster
  postgresql-gcp/1 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: reconfiguring cluster
  postgresql-gcp/1 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: initialising stanza
  postgresql-gcp/1 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: initialising stanza
  postgresql-gcp/1 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: initialising stanza
  postgresql-gcp/1 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: initialising stanza
  postgresql-gcp/1 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: initialising stanza
  postgresql-gcp/1 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: reconfiguring cluster
  postgresql-gcp/1 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: checking stanza
  postgresql-gcp/1 [idle] waiting: awaiting for member to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] maintenance: checking stanza
  postgresql-gcp/1 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] active: 
  postgresql-gcp/1 [executing] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [idle] active: Primary
[32mINFO    [0m integration.test_backups:test_backups.py:145 creating a table in the database
[32mINFO    [0m integration.test_backups:test_backups.py:154 creating a backup
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] active: Primary
  postgresql-gcp/1 [idle] active: 
  s3-integrator/0 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [idle] active: Primary
[32mINFO    [0m integration.test_backups:test_backups.py:164 listing the available backups
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  s3-integrator/0 [idle] active: 
  self-signed-certificates/0 [idle] active: 
  postgresql-gcp/0 [idle] active: Primary
  postgresql-gcp/1 [idle] active: 
[32mINFO    [0m integration.test_backups:test_backups.py:172 creating a second table in the database
[32mINFO    [0m integration.test_backups:test_backups.py:194 restoring the backup
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  s3-integrator/0 [idle] active: 
  self-signed-certificates/0 [idle] active: 
  postgresql-gcp/0 [executing] maintenance: restoring backup
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [idle] waiting: awaiting for member to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [idle] maintenance: reinitialising replica
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-gcp/0 [executing] active: Primary
[32mINFO    [0m integration.test_backups:test_backups.py:209 checking that the backup was correctly restored