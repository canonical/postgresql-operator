{"uid":"c9cf0c02c2e140f3","name":"test_full_cluster_restart[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"49b54a769a8dddb0f8825db8919381ac","time":{"start":1728180617581,"stop":1728180745812,"duration":128231},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1728178485078,"stop":1728178485078,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1728178485078,"stop":1728178485219,"duration":141},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1728178485078,"stop":1728178485078,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1728180609489,"stop":1728180609489,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1728180609489,"stop":1728180609489,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1728180609489,"stop":1728180616544,"duration":7055},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1728180616544,"stop":1728180617580,"duration":1036},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","status":"passed","steps":[],"attachments":[{"uid":"556d081c7484536d","name":"log","source":"556d081c7484536d.txt","type":"text/plain","size":511}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1728180745813,"stop":1728180747984,"duration":2171},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1728180747984,"stop":1728180755159,"duration":7175},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1728180755159,"stop":1728180756178,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1728180756179,"stop":1728180756179,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1728181090577,"stop":1728181091212,"duration":635},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1728181091213,"stop":1728181091213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1728181091213,"stop":1728181091213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1728181091213,"stop":1728181091213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1014-285"},{"name":"thread","value":"15806-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"eff9523871173f6d","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":45,"broken":18,"skipped":3,"passed":150,"unknown":4,"total":220},"items":[{"uid":"d61d8a0d627c6fc8","reportUrl":"../3404//#testresult/d61d8a0d627c6fc8","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f0e22c01c00 state=finished raised AssertionError>]","time":{"start":1728094195387,"stop":1728094460478,"duration":265091}},{"uid":"4a384d0449cd3bf","reportUrl":"../3402//#testresult/4a384d0449cd3bf","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f03141c2410 state=finished raised AssertionError>]","time":{"start":1728007553486,"stop":1728007966778,"duration":413292}},{"uid":"c1796a50e0d2839a","reportUrl":"../3401//#testresult/c1796a50e0d2839a","status":"passed","time":{"start":1727921481772,"stop":1727921621608,"duration":139836}},{"uid":"2bb61e7a92ccb92e","reportUrl":"../3395//#testresult/2bb61e7a92ccb92e","status":"passed","time":{"start":1727835354751,"stop":1727835497659,"duration":142908}},{"uid":"1aec76a67a01effa","reportUrl":"../3380//#testresult/1aec76a67a01effa","status":"passed","time":{"start":1727748540184,"stop":1727748692965,"duration":152781}},{"uid":"36f5ed88ef455020","reportUrl":"../3370//#testresult/36f5ed88ef455020","status":"passed","time":{"start":1727662257382,"stop":1727662468622,"duration":211240}},{"uid":"bb530c0c6ae39fa2","reportUrl":"../3365//#testresult/bb530c0c6ae39fa2","status":"passed","time":{"start":1727575717259,"stop":1727575861499,"duration":144240}},{"uid":"313a329767f32d9f","reportUrl":"../3362//#testresult/313a329767f32d9f","status":"passed","time":{"start":1727489271311,"stop":1727489367776,"duration":96465}},{"uid":"d121ad1dd4e0405b","reportUrl":"../3361//#testresult/d121ad1dd4e0405b","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1727402315631,"stop":1727402315631,"duration":0}},{"uid":"d178e4758ebb54b6","reportUrl":"../3351//#testresult/d178e4758ebb54b6","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fea48d4d1b0 state=finished raised AssertionError>]","time":{"start":1727316526325,"stop":1727316798403,"duration":272078}},{"uid":"490dc164f3fe253","reportUrl":"../3347//#testresult/490dc164f3fe253","status":"passed","time":{"start":1727229938032,"stop":1727230062690,"duration":124658}},{"uid":"194c25477d49cb01","reportUrl":"../3342//#testresult/194c25477d49cb01","status":"passed","time":{"start":1727143457496,"stop":1727143821222,"duration":363726}},{"uid":"a92cad45cf1abd89","reportUrl":"../3337//#testresult/a92cad45cf1abd89","status":"passed","time":{"start":1727057838627,"stop":1727057971414,"duration":132787}},{"uid":"58738c1511e934fb","reportUrl":"../3335//#testresult/58738c1511e934fb","status":"passed","time":{"start":1726970886345,"stop":1726970996442,"duration":110097}},{"uid":"4f52e78248504c4d","reportUrl":"../3334//#testresult/4f52e78248504c4d","status":"unknown","time":{}},{"uid":"2e71ffcef88aa9cd","reportUrl":"../3324//#testresult/2e71ffcef88aa9cd","status":"passed","time":{"start":1726798307685,"stop":1726798405290,"duration":97605}},{"uid":"95655c872e41b6c6","reportUrl":"../3313//#testresult/95655c872e41b6c6","status":"unknown","time":{}},{"uid":"1afe88ea0f5d658e","reportUrl":"../3298//#testresult/1afe88ea0f5d658e","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f8bf1711ea0 state=finished raised AssertionError>]","time":{"start":1726625221284,"stop":1726625495014,"duration":273730}},{"uid":"cb8cffc73736afac","reportUrl":"../3285//#testresult/cb8cffc73736afac","status":"passed","time":{"start":1726538719330,"stop":1726538860127,"duration":140797}},{"uid":"e0fcfb578d00f3e2","reportUrl":"../3276//#testresult/e0fcfb578d00f3e2","status":"passed","time":{"start":1726452202161,"stop":1726452300781,"duration":98620}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"c9cf0c02c2e140f3.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}