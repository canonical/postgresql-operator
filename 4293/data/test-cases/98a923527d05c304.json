{"uid":"98a923527d05c304","name":"test_interruption_db_process[SIGKILL-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"5549e4b678b9617f3f5afa0ef2465269","time":{"start":1744855557924,"stop":1744855655162,"duration":97238},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1744853996061,"stop":1744853996061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1744853996062,"stop":1744853996175,"duration":113},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1744853996062,"stop":1744853996062,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1744855305786,"stop":1744855309923,"duration":4137},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1744855557924,"stop":1744855557924,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1744855557924,"stop":1744855557924,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"898477544cc7cf7d","name":"log","source":"898477544cc7cf7d.txt","type":"text/plain","size":779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1744855655162,"stop":1744855656180,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1744855656181,"stop":1744855656181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1744857432745,"stop":1744857566789,"duration":134044},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f1df6f963c0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1744857566789,"stop":1744857567056,"duration":267},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1744857567056,"stop":1744857567057,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1744857567057,"stop":1744857567057,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1744857567057,"stop":1744857567057,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1940-538"},{"name":"thread","value":"15141-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGKILL'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6f06441ed8140f14","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":4,"passed":225,"unknown":8,"total":238},"items":[{"uid":"39d5f241fb11f5f4","reportUrl":"../4272//#testresult/39d5f241fb11f5f4","status":"passed","time":{"start":1744769198820,"stop":1744769279515,"duration":80695}},{"uid":"3e1ad9617ad5e4f1","reportUrl":"../4250//#testresult/3e1ad9617ad5e4f1","status":"passed","time":{"start":1744682598400,"stop":1744682680308,"duration":81908}},{"uid":"21dc6a0513569945","reportUrl":"../4247//#testresult/21dc6a0513569945","status":"passed","time":{"start":1744513913694,"stop":1744513989517,"duration":75823}},{"uid":"b3a9e1fbef51f6b1","reportUrl":"../4246//#testresult/b3a9e1fbef51f6b1","status":"passed","time":{"start":1744422817148,"stop":1744422898852,"duration":81704}},{"uid":"89b27fddb41617b3","reportUrl":"../4244//#testresult/89b27fddb41617b3","status":"passed","time":{"start":1744336794118,"stop":1744336875792,"duration":81674}},{"uid":"757102b78c9bd5cb","reportUrl":"../4239//#testresult/757102b78c9bd5cb","status":"passed","time":{"start":1744250628929,"stop":1744250709835,"duration":80906}},{"uid":"4801f7a244064526","reportUrl":"../4233//#testresult/4801f7a244064526","status":"passed","time":{"start":1744164253752,"stop":1744164335586,"duration":81834}},{"uid":"9885fed6370da38f","reportUrl":"../4224//#testresult/9885fed6370da38f","status":"passed","time":{"start":1744077988974,"stop":1744078065998,"duration":77024}},{"uid":"2d381ee130a85dc4","reportUrl":"../4219//#testresult/2d381ee130a85dc4","status":"passed","time":{"start":1743991464930,"stop":1743991545767,"duration":80837}},{"uid":"c30be82772e046d5","reportUrl":"../4218//#testresult/c30be82772e046d5","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1743905281786,"stop":1743905281786,"duration":0}},{"uid":"8556d47f021ac4e0","reportUrl":"../4217//#testresult/8556d47f021ac4e0","status":"passed","time":{"start":1743818836934,"stop":1743818918303,"duration":81369}},{"uid":"69eebca0ff813a61","reportUrl":"../4216//#testresult/69eebca0ff813a61","status":"unknown","time":{}},{"uid":"ee7a8c056f066e4d","reportUrl":"../4215//#testresult/ee7a8c056f066e4d","status":"passed","time":{"start":1743645964112,"stop":1743646046036,"duration":81924}},{"uid":"ccde15674db371b2","reportUrl":"../4214//#testresult/ccde15674db371b2","status":"passed","time":{"start":1743559691366,"stop":1743559773145,"duration":81779}},{"uid":"b7bfaa85cdfb2398","reportUrl":"../4207//#testresult/b7bfaa85cdfb2398","status":"passed","time":{"start":1743473339831,"stop":1743473421580,"duration":81749}},{"uid":"379297b94852e585","reportUrl":"../4200//#testresult/379297b94852e585","status":"passed","time":{"start":1743386362217,"stop":1743386442974,"duration":80757}},{"uid":"1d86d1d9fff2e89b","reportUrl":"../4199//#testresult/1d86d1d9fff2e89b","status":"passed","time":{"start":1743300795407,"stop":1743300877111,"duration":81704}},{"uid":"1c17e62b714674e","reportUrl":"../4197//#testresult/1c17e62b714674e","status":"passed","time":{"start":1743213711183,"stop":1743213790773,"duration":79590}},{"uid":"123975504242274c","reportUrl":"../4193//#testresult/123975504242274c","status":"passed","time":{"start":1743127533428,"stop":1743127614249,"duration":80821}},{"uid":"e0b7dd31e2286fda","reportUrl":"../4179//#testresult/e0b7dd31e2286fda","status":"passed","time":{"start":1743041195710,"stop":1743041276497,"duration":80787}}]},"tags":["asyncio","abort_on_fail"]},"source":"98a923527d05c304.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGKILL'"]}