{"uid":"fdd0fa8852f0466b","name":"test_network_cut","fullName":"tests.integration.ha_tests.test_self_healing#test_network_cut","historyId":"6b9f6734f6f55bf616f6dd52eb37e3bd","time":{"start":1744856397483,"stop":1744856837006,"duration":439523},"description":"Completely cut and restore network.","descriptionHtml":"<p>Completely cut and restore network.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1744853996061,"stop":1744853996061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1744853996062,"stop":1744853996175,"duration":113},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1744853996062,"stop":1744853996062,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1744855305786,"stop":1744855309923,"duration":4137},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1744856397482,"stop":1744856397482,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1744856397482,"stop":1744856397482,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Completely cut and restore network.","status":"passed","steps":[],"attachments":[{"uid":"2a1e3998159a52ca","name":"log","source":"2a1e3998159a52ca.txt","type":"text/plain","size":4581}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1744856837007,"stop":1744856838024,"duration":1017},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1744856838024,"stop":1744856838024,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1744857432745,"stop":1744857566789,"duration":134044},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f1df6f963c0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1744857566789,"stop":1744857567056,"duration":267},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1744857567056,"stop":1744857567057,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1744857567057,"stop":1744857567057,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1744857567057,"stop":1744857567057,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1940-538"},{"name":"thread","value":"15141-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"b97cdfdd55c81c16","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":22,"broken":39,"skipped":186,"passed":139,"unknown":12,"total":398},"items":[{"uid":"e0fe4d3993c2854d","reportUrl":"../4272//#testresult/e0fe4d3993c2854d","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/0","time":{"start":1744770279679,"stop":1744770391877,"duration":112198}},{"uid":"a841612760ac3a97","reportUrl":"../4250//#testresult/a841612760ac3a97","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1744684208869,"stop":1744684208869,"duration":0}},{"uid":"15a63840c235c782","reportUrl":"../4247//#testresult/15a63840c235c782","status":"broken","statusDetails":"ValueError: invalid literal for int() with base 10: 'None'","time":{"start":1744514910252,"stop":1744515418808,"duration":508556}},{"uid":"b6d398adf7cfeb7f","reportUrl":"../4246//#testresult/b6d398adf7cfeb7f","status":"passed","time":{"start":1744423945685,"stop":1744424296336,"duration":350651}},{"uid":"501d360845275b1a","reportUrl":"../4244//#testresult/501d360845275b1a","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/1","time":{"start":1744337638814,"stop":1744337745030,"duration":106216}},{"uid":"575e03ba202999ef","reportUrl":"../4239//#testresult/575e03ba202999ef","status":"passed","time":{"start":1744251659855,"stop":1744252145361,"duration":485506}},{"uid":"685ba9cf610c7f50","reportUrl":"../4233//#testresult/685ba9cf610c7f50","status":"failed","statusDetails":"AssertionError: testing.postgresql-1: writes not continuing to DB (current writes: 169 - previous writes: 169)","time":{"start":1744165306101,"stop":1744165560516,"duration":254415}},{"uid":"1163bd452335cfc0","reportUrl":"../4224//#testresult/1163bd452335cfc0","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1744079394440,"stop":1744079394440,"duration":0}},{"uid":"ec08d545b105290c","reportUrl":"../4219//#testresult/ec08d545b105290c","status":"passed","time":{"start":1743992437307,"stop":1743992976570,"duration":539263}},{"uid":"b9f928fc4044b643","reportUrl":"../4218//#testresult/b9f928fc4044b643","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1743905281815,"stop":1743905281815,"duration":0}},{"uid":"ed84029d293ec2d0","reportUrl":"../4217//#testresult/ed84029d293ec2d0","status":"passed","time":{"start":1743819815209,"stop":1743820388307,"duration":573098}},{"uid":"b3a2286caba9e89d","reportUrl":"../4216//#testresult/b3a2286caba9e89d","status":"unknown","time":{}},{"uid":"6b8a5ea3514d4924","reportUrl":"../4215//#testresult/6b8a5ea3514d4924","status":"passed","time":{"start":1743646896668,"stop":1743647281992,"duration":385324}},{"uid":"c653d86742b51e22","reportUrl":"../4214//#testresult/c653d86742b51e22","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1743560946271,"stop":1743560946271,"duration":0}},{"uid":"1ab8848c2f7a452e","reportUrl":"../4207//#testresult/1ab8848c2f7a452e","status":"passed","time":{"start":1743474365264,"stop":1743474872896,"duration":507632}},{"uid":"5cf80ff6a4e7aa34","reportUrl":"../4200//#testresult/5cf80ff6a4e7aa34","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1743387499232,"stop":1743387499232,"duration":0}},{"uid":"f08cab05f51fd31a","reportUrl":"../4199//#testresult/f08cab05f51fd31a","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1743302235614,"stop":1743302235614,"duration":0}},{"uid":"b6e3be8edfa7fe72","reportUrl":"../4197//#testresult/b6e3be8edfa7fe72","status":"passed","time":{"start":1743214647011,"stop":1743215162640,"duration":515629}},{"uid":"de20028929b74564","reportUrl":"../4193//#testresult/de20028929b74564","status":"passed","time":{"start":1743128357797,"stop":1743128614869,"duration":257072}},{"uid":"f940aac9e5d1bcc8","reportUrl":"../4179//#testresult/f940aac9e5d1bcc8","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1743042610659,"stop":1743042610659,"duration":0}}]},"tags":["asyncio","abort_on_fail"]},"source":"fdd0fa8852f0466b.json","parameterValues":[]}