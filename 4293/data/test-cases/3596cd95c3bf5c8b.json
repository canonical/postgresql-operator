{"uid":"3596cd95c3bf5c8b","name":"test_interruption_db_process[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"546685934c34cfff7f60423bbdce2bf1","time":{"start":1744855393158,"stop":1744855474086,"duration":80928},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1744853996061,"stop":1744853996061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1744853996062,"stop":1744853996175,"duration":113},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1744853996062,"stop":1744853996062,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1744855305786,"stop":1744855309923,"duration":4137},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1744855393158,"stop":1744855393158,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1744855393158,"stop":1744855393158,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"22d525f6a8dfdee0","name":"log","source":"22d525f6a8dfdee0.txt","type":"text/plain","size":783}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1744855474086,"stop":1744855475105,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1744855475106,"stop":1744855475106,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1744857432745,"stop":1744857566789,"duration":134044},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f1df6f963c0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1744857566789,"stop":1744857567056,"duration":267},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1744857567056,"stop":1744857567057,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1744857567057,"stop":1744857567057,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1744857567057,"stop":1744857567057,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1940-538"},{"name":"thread","value":"15141-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"dff944103d2a6863","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":4,"passed":225,"unknown":8,"total":238},"items":[{"uid":"b1a9dad07e2341c5","reportUrl":"../4272//#testresult/b1a9dad07e2341c5","status":"passed","time":{"start":1744769039250,"stop":1744769115962,"duration":76712}},{"uid":"c5359f4fd51785cc","reportUrl":"../4250//#testresult/c5359f4fd51785cc","status":"passed","time":{"start":1744682438315,"stop":1744682515380,"duration":77065}},{"uid":"8421eb6827d49a9f","reportUrl":"../4247//#testresult/8421eb6827d49a9f","status":"passed","time":{"start":1744513755145,"stop":1744513830901,"duration":75756}},{"uid":"34c083bf82b4bf0a","reportUrl":"../4246//#testresult/34c083bf82b4bf0a","status":"passed","time":{"start":1744422652850,"stop":1744422734411,"duration":81561}},{"uid":"b3dea1277d24ea94","reportUrl":"../4244//#testresult/b3dea1277d24ea94","status":"passed","time":{"start":1744336628755,"stop":1744336710455,"duration":81700}},{"uid":"f7b0acb14776657b","reportUrl":"../4239//#testresult/f7b0acb14776657b","status":"passed","time":{"start":1744250463114,"stop":1744250544951,"duration":81837}},{"uid":"37b5552199d77f31","reportUrl":"../4233//#testresult/37b5552199d77f31","status":"passed","time":{"start":1744164089149,"stop":1744164170845,"duration":81696}},{"uid":"e19d5c4841bcbbed","reportUrl":"../4224//#testresult/e19d5c4841bcbbed","status":"passed","time":{"start":1744077829429,"stop":1744077911213,"duration":81784}},{"uid":"245061eea65f4529","reportUrl":"../4219//#testresult/245061eea65f4529","status":"passed","time":{"start":1743991305543,"stop":1743991381208,"duration":75665}},{"uid":"4db2674cf181ab45","reportUrl":"../4218//#testresult/4db2674cf181ab45","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1743905281780,"stop":1743905281780,"duration":0}},{"uid":"7551708488573d95","reportUrl":"../4217//#testresult/7551708488573d95","status":"passed","time":{"start":1743818670940,"stop":1743818752762,"duration":81822}},{"uid":"69bc0cc642496df","reportUrl":"../4216//#testresult/69bc0cc642496df","status":"unknown","time":{}},{"uid":"f60ad595b8a68c3d","reportUrl":"../4215//#testresult/f60ad595b8a68c3d","status":"passed","time":{"start":1743645800132,"stop":1743645881005,"duration":80873}},{"uid":"8e0c2dcd93ebfbd7","reportUrl":"../4214//#testresult/8e0c2dcd93ebfbd7","status":"passed","time":{"start":1743559531820,"stop":1743559608428,"duration":76608}},{"uid":"eaf06dcd7c482b29","reportUrl":"../4207//#testresult/eaf06dcd7c482b29","status":"passed","time":{"start":1743473178870,"stop":1743473255583,"duration":76713}},{"uid":"359c3d972202e4e9","reportUrl":"../4200//#testresult/359c3d972202e4e9","status":"passed","time":{"start":1743386197562,"stop":1743386278481,"duration":80919}},{"uid":"afbf630e08083e47","reportUrl":"../4199//#testresult/afbf630e08083e47","status":"passed","time":{"start":1743300636120,"stop":1743300712712,"duration":76592}},{"uid":"992a0eaacfad1fea","reportUrl":"../4197//#testresult/992a0eaacfad1fea","status":"passed","time":{"start":1743213550120,"stop":1743213630623,"duration":80503}},{"uid":"fdb40e5cc4fa7c8c","reportUrl":"../4193//#testresult/fdb40e5cc4fa7c8c","status":"passed","time":{"start":1743127370820,"stop":1743127450526,"duration":79706}},{"uid":"8832e760175f5199","reportUrl":"../4179//#testresult/8832e760175f5199","status":"passed","time":{"start":1743041031138,"stop":1743041112809,"duration":81671}}]},"tags":["asyncio","abort_on_fail"]},"source":"3596cd95c3bf5c8b.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}