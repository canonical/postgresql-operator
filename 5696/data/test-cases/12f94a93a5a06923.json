{"uid":"12f94a93a5a06923","name":"test_interruption_db_process[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"546685934c34cfff7f60423bbdce2bf1","time":{"start":1759283263884,"stop":1759283342622,"duration":78738},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1759282328178,"stop":1759282328357,"duration":179},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1759282328178,"stop":1759282328178,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1759282328178,"stop":1759282328178,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1759283177940,"stop":1759283182073,"duration":4133},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1759283263884,"stop":1759283263884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1759283263884,"stop":1759283263884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"8d8e59d984ef404d","name":"log","source":"8d8e59d984ef404d.txt","type":"text/plain","size":775}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1759283342622,"stop":1759283343647,"duration":1025},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1759283343648,"stop":1759283343648,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1759285326752,"stop":1759285459614,"duration":132862},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fc6035917f0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1759285459615,"stop":1759285459974,"duration":359},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1759285459975,"stop":1759285459975,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1759285459975,"stop":1759285459975,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1759285459975,"stop":1759285459976,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"17288-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"33f465d4560d9430","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":13,"passed":359,"unknown":24,"total":398},"items":[{"uid":"de0bf662ced5c797","reportUrl":"../5691//#testresult/de0bf662ced5c797","status":"passed","time":{"start":1759198441032,"stop":1759198520528,"duration":79496}},{"uid":"ac2ff7c4f8ff56ef","reportUrl":"../5688//#testresult/ac2ff7c4f8ff56ef","status":"passed","time":{"start":1759110391748,"stop":1759110471339,"duration":79591}},{"uid":"1741d863f4a7333c","reportUrl":"../5685//#testresult/1741d863f4a7333c","status":"passed","time":{"start":1759024498703,"stop":1759024577310,"duration":78607}},{"uid":"1592f0d713b363e6","reportUrl":"../5682//#testresult/1592f0d713b363e6","status":"passed","time":{"start":1758937489333,"stop":1758937568969,"duration":79636}},{"uid":"fc34a1a71b0788d3","reportUrl":"../5677//#testresult/fc34a1a71b0788d3","status":"passed","time":{"start":1758851177563,"stop":1758851257151,"duration":79588}},{"uid":"797ffc5b0c7c6c59","reportUrl":"../5662//#testresult/797ffc5b0c7c6c59","status":"passed","time":{"start":1758678527004,"stop":1758678607882,"duration":80878}},{"uid":"fb752448a7a4047c","reportUrl":"../5644//#testresult/fb752448a7a4047c","status":"passed","time":{"start":1758592177414,"stop":1758592258226,"duration":80812}},{"uid":"8a8cd4f217486597","reportUrl":"../5636//#testresult/8a8cd4f217486597","status":"passed","time":{"start":1758506063497,"stop":1758506143102,"duration":79605}},{"uid":"34c4a69a44b14e50","reportUrl":"../5635//#testresult/34c4a69a44b14e50","status":"passed","time":{"start":1758419603197,"stop":1758419682900,"duration":79703}},{"uid":"28281bf810e2993e","reportUrl":"../5629//#testresult/28281bf810e2993e","status":"passed","time":{"start":1758333264289,"stop":1758333344112,"duration":79823}},{"uid":"fb14e0b04e6db688","reportUrl":"../5621//#testresult/fb14e0b04e6db688","status":"passed","time":{"start":1758246549993,"stop":1758246629724,"duration":79731}},{"uid":"f843b8cf6de93571","reportUrl":"../5614//#testresult/f843b8cf6de93571","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1758160327060,"stop":1758160327060,"duration":0}},{"uid":"63b22cecd20ddff","reportUrl":"../5607//#testresult/63b22cecd20ddff","status":"passed","time":{"start":1758073983480,"stop":1758074062090,"duration":78610}},{"uid":"4ed4e7af04f08d11","reportUrl":"../5600//#testresult/4ed4e7af04f08d11","status":"passed","time":{"start":1757987510271,"stop":1757987588943,"duration":78672}},{"uid":"eb283d56abb8953c","reportUrl":"../5599//#testresult/eb283d56abb8953c","status":"passed","time":{"start":1757900920732,"stop":1757901000384,"duration":79652}},{"uid":"2cf44d8fba5009f4","reportUrl":"../5598//#testresult/2cf44d8fba5009f4","status":"passed","time":{"start":1757814738010,"stop":1757814816699,"duration":78689}},{"uid":"a57d49139eea10ae","reportUrl":"../5597//#testresult/a57d49139eea10ae","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1757728508706,"stop":1757728508706,"duration":0}},{"uid":"9d6fedb6a0e4283f","reportUrl":"../5594//#testresult/9d6fedb6a0e4283f","status":"passed","time":{"start":1757641873906,"stop":1757641953472,"duration":79566}},{"uid":"1ed5dd3b3c9c664b","reportUrl":"../5581//#testresult/1ed5dd3b3c9c664b","status":"unknown","time":{}},{"uid":"7a80c870369c801c","reportUrl":"../5576//#testresult/7a80c870369c801c","status":"passed","time":{"start":1757469106997,"stop":1757469185691,"duration":78694}}]},"tags":["asyncio","abort_on_fail"]},"source":"12f94a93a5a06923.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}