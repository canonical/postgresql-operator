{"uid":"78a6f058c4a8474a","name":"test_full_cluster_restart[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"49b54a769a8dddb0f8825db8919381ac","time":{"start":1765245747299,"stop":1765245834330,"duration":87031},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1765244050623,"stop":1765244050623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1765244050623,"stop":1765244050771,"duration":148},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1765244050623,"stop":1765244050623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1765245744230,"stop":1765245746263,"duration":2033},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1765245744230,"stop":1765245744230,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1765245744230,"stop":1765245744230,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1765245746263,"stop":1765245747299,"duration":1036},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","status":"passed","steps":[],"attachments":[{"uid":"832b64dbbc25d13c","name":"log","source":"832b64dbbc25d13c.txt","type":"text/plain","size":674}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1765245834330,"stop":1765245837496,"duration":3166},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1765245837496,"stop":1765245840108,"duration":2612},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1765245840108,"stop":1765245841135,"duration":1027},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1765245841136,"stop":1765245841136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1765246450771,"stop":1765246451175,"duration":404},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1765246451175,"stop":1765246451176,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1765246451176,"stop":1765246451176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1765246451176,"stop":1765246451176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"15240-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"7a3f2dbaff2695cd","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":85,"broken":42,"skipped":37,"passed":420,"unknown":35,"total":619},"items":[{"uid":"9343a7a2f632d6cb","reportUrl":"../6181//#testresult/9343a7a2f632d6cb","status":"passed","time":{"start":1765159156090,"stop":1765159248324,"duration":92234}},{"uid":"248742575a333638","reportUrl":"../6178//#testresult/248742575a333638","status":"passed","time":{"start":1765072586437,"stop":1765072676512,"duration":90075}},{"uid":"821137442c04b021","reportUrl":"../6177//#testresult/821137442c04b021","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1764986227605,"stop":1764986227605,"duration":0}},{"uid":"5ff39e39c5b86c5e","reportUrl":"../6159//#testresult/5ff39e39c5b86c5e","status":"failed","statusDetails":"AssertionError: testing.postgresql-0: writes not continuing to DB (current writes: 3 - previous writes: 3)","time":{"start":1764900131499,"stop":1764900472241,"duration":340742}},{"uid":"11d9a966cc0573b8","reportUrl":"../6150//#testresult/11d9a966cc0573b8","status":"passed","time":{"start":1764813311483,"stop":1764813436403,"duration":124920}},{"uid":"e8006b6a3d0872d5","reportUrl":"../6148//#testresult/e8006b6a3d0872d5","status":"passed","time":{"start":1764727077352,"stop":1764727177144,"duration":99792}},{"uid":"23d9d999797a2b39","reportUrl":"../6136//#testresult/23d9d999797a2b39","status":"passed","time":{"start":1764640500537,"stop":1764640585955,"duration":85418}},{"uid":"dfcd10e720dad1d7","reportUrl":"../6134//#testresult/dfcd10e720dad1d7","status":"passed","time":{"start":1764554357465,"stop":1764554445561,"duration":88096}},{"uid":"a82d2dfe96200ae7","reportUrl":"../6131//#testresult/a82d2dfe96200ae7","status":"passed","time":{"start":1764467469051,"stop":1764467554586,"duration":85535}},{"uid":"74559f98193f08e0","reportUrl":"../6130//#testresult/74559f98193f08e0","status":"passed","time":{"start":1764381167512,"stop":1764381251092,"duration":83580}},{"uid":"1073b375517b7d3a","reportUrl":"../6125//#testresult/1073b375517b7d3a","status":"passed","time":{"start":1764295183927,"stop":1764295271615,"duration":87688}},{"uid":"47f824bfa39fef13","reportUrl":"../6120//#testresult/47f824bfa39fef13","status":"passed","time":{"start":1764208563767,"stop":1764208651557,"duration":87790}},{"uid":"fd57fe580b8e6dab","reportUrl":"../6109//#testresult/fd57fe580b8e6dab","status":"passed","time":{"start":1764122111560,"stop":1764122201338,"duration":89778}},{"uid":"f40c1c7595debe1c","reportUrl":"../6092//#testresult/f40c1c7595debe1c","status":"passed","time":{"start":1763948991396,"stop":1763949092029,"duration":100633}},{"uid":"a2992fafcb228535","reportUrl":"../6091//#testresult/a2992fafcb228535","status":"passed","time":{"start":1763862945066,"stop":1763863028513,"duration":83447}},{"uid":"fc7c1aa94b502256","reportUrl":"../6090//#testresult/fc7c1aa94b502256","status":"failed","statusDetails":"AssertionError: testing.postgresql-2: writes not continuing to DB (current writes: 3 - previous writes: 3)","time":{"start":1763776813088,"stop":1763777083473,"duration":270385}},{"uid":"e003e0102a1a2923","reportUrl":"../6085//#testresult/e003e0102a1a2923","status":"passed","time":{"start":1763689929960,"stop":1763690014650,"duration":84690}},{"uid":"92e4940ace3d83dd","reportUrl":"../6073//#testresult/92e4940ace3d83dd","status":"passed","time":{"start":1763603736858,"stop":1763603826781,"duration":89923}},{"uid":"548bc5ca1ded56c2","reportUrl":"../5996//#testresult/548bc5ca1ded56c2","status":"unknown","time":{}},{"uid":"a6faaeba1ccc8b49","reportUrl":"../5988//#testresult/a6faaeba1ccc8b49","status":"passed","time":{"start":1762912455411,"stop":1762912538634,"duration":83223}}]},"tags":["asyncio","abort_on_fail"]},"source":"78a6f058c4a8474a.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}