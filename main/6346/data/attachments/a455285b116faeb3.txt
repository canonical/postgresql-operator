[32mINFO    [0m pytest_operator.plugin:plugin.py:951 Model status:

Model    Controller     Cloud/Region         Version  SLA          Timestamp
testing  concierge-lxd  localhost/localhost  3.6.13   unsupported  00:27:34Z

App                  Version  Status   Scale  Charm       Channel  Rev  Exposed  Message
postgres-test-dup    14.20    waiting      1  postgresql             1  no       awaiting for member to start
postgresql-test-app           active       0  postgresql             0  no       

Unit                  Workload  Agent  Machine  Public address  Ports     Message
postgres-test-dup/0*  waiting   idle   2        10.145.29.74    5432/tcp  awaiting for member to start

Machine  State    Address       Inst id        Base          AZ             Message
2        started  10.145.29.74  juju-06898b-2  ubuntu@22.04  runnervmmtnos  Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:957 Juju error logs:

machine-0: 00:06:49 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 00:06:49 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-postgresql-test-app-0: 00:07:19 ERROR unit.postgresql-test-app/0.juju-log Unable to get the state of the cluster
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-postgresql-test-app-0/charm/src/cluster.py", line 568, in are_replicas_up
    members = self.cluster_status()
  File "/var/lib/juju/agents/unit-postgresql-test-app-0/charm/lib/charms/tempo_coordinator_k8s/v0/charm_tracing.py", line 1153, in wrapped_function
    return callable(*args, **kwargs)  # type: ignore
  File "/var/lib/juju/agents/unit-postgresql-test-app-0/charm/src/cluster.py", line 368, in cluster_status
    raise RetryError(
tenacity.RetryError: RetryError[<Future at 0x7f12734b5f60 state=finished raised Exception>]
unit-postgresql-test-app-0: 00:08:12 ERROR juju.worker.uniter resolver loop error: preparing operation "run storage-detaching (pgdata/0) hook" for postgresql-test-app/0: writing state: cannot persist state for unit "postgresql-test-app/0": unit postgresql-test-app/0 not found
machine-1: 00:09:11 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 00:09:11 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-postgresql-test-app-1: 00:09:46 ERROR unit.postgresql-test-app/1.juju-log Unable to get the state of the cluster
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/src/cluster.py", line 568, in are_replicas_up
    members = self.cluster_status()
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/lib/charms/tempo_coordinator_k8s/v0/charm_tracing.py", line 1153, in wrapped_function
    return callable(*args, **kwargs)  # type: ignore
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/src/cluster.py", line 368, in cluster_status
    raise RetryError(
tenacity.RetryError: RetryError[<Future at 0x7f5ee9f71450 state=finished raised Exception>]
unit-postgresql-test-app-1: 00:09:48 ERROR unit.postgresql-test-app/1.juju-log Unable to get the state of the cluster
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/src/cluster.py", line 568, in are_replicas_up
    members = self.cluster_status()
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/lib/charms/tempo_coordinator_k8s/v0/charm_tracing.py", line 1153, in wrapped_function
    return callable(*args, **kwargs)  # type: ignore
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/src/cluster.py", line 368, in cluster_status
    raise RetryError(
tenacity.RetryError: RetryError[<Future at 0x7f68176a1450 state=finished raised Exception>]
unit-postgresql-test-app-1: 00:10:14 ERROR unit.postgresql-test-app/1.juju-log failed to change plugins: 
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/lib/charms/postgresql_k8s/v0/postgresql.py", line 438, in enable_disable_extensions
    with self._connect_to_database() as connection, connection.cursor() as cursor:
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/lib/charms/tempo_coordinator_k8s/v0/charm_tracing.py", line 1153, in wrapped_function
    return callable(*args, **kwargs)  # type: ignore
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/lib/charms/postgresql_k8s/v0/postgresql.py", line 184, in _connect_to_database
    connection = psycopg2.connect(
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/venv/lib/python3.10/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: could not translate host name "None" to address: Temporary failure in name resolution


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/src/charm.py", line 1258, in enable_disable_extensions
    self.postgresql.enable_disable_extensions(extensions, database)
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/lib/charms/tempo_coordinator_k8s/v0/charm_tracing.py", line 1153, in wrapped_function
    return callable(*args, **kwargs)  # type: ignore
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/lib/charms/postgresql_k8s/v0/postgresql.py", line 467, in enable_disable_extensions
    raise PostgreSQLEnableDisableExtensionError() from e
charms.postgresql_k8s.v0.postgresql.PostgreSQLEnableDisableExtensionError
unit-postgresql-test-app-1: 00:10:16 ERROR unit.postgresql-test-app/1.juju-log failed to change plugins: 
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/lib/charms/postgresql_k8s/v0/postgresql.py", line 456, in enable_disable_extensions
    cursor.execute(
psycopg2.errors.ReadOnlySqlTransaction: cannot execute DROP EXTENSION in a read-only transaction


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/src/charm.py", line 1258, in enable_disable_extensions
    self.postgresql.enable_disable_extensions(extensions, database)
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/lib/charms/tempo_coordinator_k8s/v0/charm_tracing.py", line 1153, in wrapped_function
    return callable(*args, **kwargs)  # type: ignore
  File "/var/lib/juju/agents/unit-postgresql-test-app-1/charm/lib/charms/postgresql_k8s/v0/postgresql.py", line 467, in enable_disable_extensions
    raise PostgreSQLEnableDisableExtensionError() from e
charms.postgresql_k8s.v0.postgresql.PostgreSQLEnableDisableExtensionError
machine-2: 00:11:56 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 00:11:56 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-postgres-test-dup-0: 00:12:33 ERROR unit.postgres-test-dup/0.juju-log Unable to get the state of the cluster
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-postgres-test-dup-0/charm/src/cluster.py", line 568, in are_replicas_up
    members = self.cluster_status()
  File "/var/lib/juju/agents/unit-postgres-test-dup-0/charm/lib/charms/tempo_coordinator_k8s/v0/charm_tracing.py", line 1153, in wrapped_function
    return callable(*args, **kwargs)  # type: ignore
  File "/var/lib/juju/agents/unit-postgres-test-dup-0/charm/src/cluster.py", line 368, in cluster_status
    raise RetryError(
tenacity.RetryError: RetryError[<Future at 0x7fcc528b6e90 state=finished raised Exception>]
unit-postgres-test-dup-0: 00:13:52 ERROR unit.postgres-test-dup/0.juju-log Failed to list PostgreSQL database users: could not translate host name "None" to address: Temporary failure in name resolution

unit-postgres-test-dup-0: 00:21:02 ERROR unit.postgres-test-dup/0.juju-log Failed to list PostgreSQL database users: could not translate host name "None" to address: Temporary failure in name resolution


[32mINFO    [0m pytest_operator.plugin:plugin.py:1039 Forgetting model main...