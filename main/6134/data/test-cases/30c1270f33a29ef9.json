{"uid":"30c1270f33a29ef9","name":"test_freeze_db_process[/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_freeze_db_process","historyId":"8fac570613189c2919a673774a1a29dd","time":{"start":1764554174571,"stop":1764554256876,"duration":82305},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1764552743735,"stop":1764552743735,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1764552743736,"stop":1764552743736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1764552743736,"stop":1764552743872,"duration":136},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1764553447778,"stop":1764553451964,"duration":4186},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1764554174570,"stop":1764554174570,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1764554174570,"stop":1764554174570,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"ab39676d3decec38","name":"log","source":"ab39676d3decec38.txt","type":"text/plain","size":775}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1764554256876,"stop":1764554257904,"duration":1028},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1764554257905,"stop":1764554257905,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1764555524789,"stop":1764555734368,"duration":209579},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fdde27b4350 state=finished raised ConnectionError>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1764555734369,"stop":1764555734741,"duration":372},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1764555734742,"stop":1764555734742,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"14808-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6e1e077019ff9d7d","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":17,"broken":5,"skipped":22,"passed":532,"unknown":35,"total":611},"items":[{"uid":"cc23d6010e88f8ba","reportUrl":"../6131//#testresult/cc23d6010e88f8ba","status":"passed","time":{"start":1764467291010,"stop":1764467374237,"duration":83227}},{"uid":"1d7431432790e21","reportUrl":"../6130//#testresult/1d7431432790e21","status":"passed","time":{"start":1764380989580,"stop":1764381071573,"duration":81993}},{"uid":"892f6306ad3edbce","reportUrl":"../6125//#testresult/892f6306ad3edbce","status":"passed","time":{"start":1764294995825,"stop":1764295081275,"duration":85450}},{"uid":"af1ec508219cdc78","reportUrl":"../6120//#testresult/af1ec508219cdc78","status":"passed","time":{"start":1764208388911,"stop":1764208469881,"duration":80970}},{"uid":"902e79166bc2d1fb","reportUrl":"../6109//#testresult/902e79166bc2d1fb","status":"passed","time":{"start":1764121932470,"stop":1764122016836,"duration":84366}},{"uid":"a67de5034c35cc2f","reportUrl":"../6092//#testresult/a67de5034c35cc2f","status":"passed","time":{"start":1763948821371,"stop":1763948910796,"duration":89425}},{"uid":"a9df9392e6f823e9","reportUrl":"../6091//#testresult/a9df9392e6f823e9","status":"passed","time":{"start":1763862729749,"stop":1763862851504,"duration":121755}},{"uid":"928cc705718c0d51","reportUrl":"../6090//#testresult/928cc705718c0d51","status":"passed","time":{"start":1763776627695,"stop":1763776709595,"duration":81900}},{"uid":"2abd836c8eb1c7f3","reportUrl":"../6085//#testresult/2abd836c8eb1c7f3","status":"passed","time":{"start":1763689740236,"stop":1763689836722,"duration":96486}},{"uid":"fb0663166b7031a0","reportUrl":"../6073//#testresult/fb0663166b7031a0","status":"passed","time":{"start":1763603521872,"stop":1763603643523,"duration":121651}},{"uid":"e99c0ca43eb103e4","reportUrl":"../5996//#testresult/e99c0ca43eb103e4","status":"unknown","time":{}},{"uid":"9a31770b9683bde","reportUrl":"../5988//#testresult/9a31770b9683bde","status":"passed","time":{"start":1762912271110,"stop":1762912358543,"duration":87433}},{"uid":"8e9bfe34bbdb21ad","reportUrl":"../5971//#testresult/8e9bfe34bbdb21ad","status":"passed","time":{"start":1762825793622,"stop":1762825878679,"duration":85057}},{"uid":"6be652c27f388a08","reportUrl":"../5964//#testresult/6be652c27f388a08","status":"passed","time":{"start":1762739399466,"stop":1762739523613,"duration":124147}},{"uid":"754ce35e6fee0d47","reportUrl":"../5963//#testresult/754ce35e6fee0d47","status":"passed","time":{"start":1762653275213,"stop":1762653356998,"duration":81785}},{"uid":"9c2bf0a028ee10aa","reportUrl":"../5962//#testresult/9c2bf0a028ee10aa","status":"unknown","time":{}},{"uid":"de522b022f5b88fd","reportUrl":"../5953//#testresult/de522b022f5b88fd","status":"passed","time":{"start":1762480266549,"stop":1762480463521,"duration":196972}},{"uid":"c82e9bc80a933f62","reportUrl":"../5948//#testresult/c82e9bc80a933f62","status":"passed","time":{"start":1762393932202,"stop":1762394015346,"duration":83144}},{"uid":"5b58e0c00c4f4cd1","reportUrl":"../5947//#testresult/5b58e0c00c4f4cd1","status":"passed","time":{"start":1762307576315,"stop":1762307658016,"duration":81701}},{"uid":"bedd55a7adbc67f0","reportUrl":"../5939//#testresult/bedd55a7adbc67f0","status":"passed","time":{"start":1762221246682,"stop":1762221328897,"duration":82215}}]},"tags":["asyncio","abort_on_fail"]},"source":"30c1270f33a29ef9.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"]}