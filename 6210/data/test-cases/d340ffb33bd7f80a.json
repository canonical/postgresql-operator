{"uid":"d340ffb33bd7f80a","name":"test_full_cluster_restart[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"49b54a769a8dddb0f8825db8919381ac","time":{"start":1765763733296,"stop":1765763833369,"duration":100073},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1765762383561,"stop":1765762383562,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1765762383562,"stop":1765762383562,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1765762383562,"stop":1765762383710,"duration":148},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1765763730230,"stop":1765763730230,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1765763730230,"stop":1765763730230,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1765763730230,"stop":1765763732256,"duration":2026},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1765763732256,"stop":1765763733296,"duration":1040},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","status":"passed","steps":[],"attachments":[{"uid":"54c7a861cc93e52","name":"log","source":"54c7a861cc93e52.txt","type":"text/plain","size":672}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1765763833370,"stop":1765763836585,"duration":3215},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1765763836585,"stop":1765763839119,"duration":2534},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1765763839119,"stop":1765763840137,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1765763840138,"stop":1765763840138,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1765764413279,"stop":1765764413778,"duration":499},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1765764413778,"stop":1765764413778,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1765764413779,"stop":1765764413779,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1765764413779,"stop":1765764413779,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"runnervm6qbrg"},{"name":"thread","value":"14868-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a0519224f55df149","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":85,"broken":42,"skipped":37,"passed":424,"unknown":36,"total":624},"items":[{"uid":"bc4a927fdcb72431","reportUrl":"../6209//#testresult/bc4a927fdcb72431","status":"passed","time":{"start":1765677688827,"stop":1765677775130,"duration":86303}},{"uid":"7328c0e054cdd05d","reportUrl":"../6208//#testresult/7328c0e054cdd05d","status":"passed","time":{"start":1765590980780,"stop":1765591100524,"duration":119744}},{"uid":"ac73a0fabb6ffacb","reportUrl":"../6203//#testresult/ac73a0fabb6ffacb","status":"unknown","time":{}},{"uid":"c94f83819c2f1eba","reportUrl":"../6201//#testresult/c94f83819c2f1eba","status":"passed","time":{"start":1765418424714,"stop":1765418525469,"duration":100755}},{"uid":"78a6f058c4a8474a","reportUrl":"../6186//#testresult/78a6f058c4a8474a","status":"passed","time":{"start":1765245747299,"stop":1765245834330,"duration":87031}},{"uid":"9343a7a2f632d6cb","reportUrl":"../6181//#testresult/9343a7a2f632d6cb","status":"passed","time":{"start":1765159156090,"stop":1765159248324,"duration":92234}},{"uid":"248742575a333638","reportUrl":"../6178//#testresult/248742575a333638","status":"passed","time":{"start":1765072586437,"stop":1765072676512,"duration":90075}},{"uid":"821137442c04b021","reportUrl":"../6177//#testresult/821137442c04b021","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1764986227605,"stop":1764986227605,"duration":0}},{"uid":"5ff39e39c5b86c5e","reportUrl":"../6159//#testresult/5ff39e39c5b86c5e","status":"failed","statusDetails":"AssertionError: testing.postgresql-0: writes not continuing to DB (current writes: 3 - previous writes: 3)","time":{"start":1764900131499,"stop":1764900472241,"duration":340742}},{"uid":"11d9a966cc0573b8","reportUrl":"../6150//#testresult/11d9a966cc0573b8","status":"passed","time":{"start":1764813311483,"stop":1764813436403,"duration":124920}},{"uid":"e8006b6a3d0872d5","reportUrl":"../6148//#testresult/e8006b6a3d0872d5","status":"passed","time":{"start":1764727077352,"stop":1764727177144,"duration":99792}},{"uid":"23d9d999797a2b39","reportUrl":"../6136//#testresult/23d9d999797a2b39","status":"passed","time":{"start":1764640500537,"stop":1764640585955,"duration":85418}},{"uid":"dfcd10e720dad1d7","reportUrl":"../6134//#testresult/dfcd10e720dad1d7","status":"passed","time":{"start":1764554357465,"stop":1764554445561,"duration":88096}},{"uid":"a82d2dfe96200ae7","reportUrl":"../6131//#testresult/a82d2dfe96200ae7","status":"passed","time":{"start":1764467469051,"stop":1764467554586,"duration":85535}},{"uid":"74559f98193f08e0","reportUrl":"../6130//#testresult/74559f98193f08e0","status":"passed","time":{"start":1764381167512,"stop":1764381251092,"duration":83580}},{"uid":"1073b375517b7d3a","reportUrl":"../6125//#testresult/1073b375517b7d3a","status":"passed","time":{"start":1764295183927,"stop":1764295271615,"duration":87688}},{"uid":"47f824bfa39fef13","reportUrl":"../6120//#testresult/47f824bfa39fef13","status":"passed","time":{"start":1764208563767,"stop":1764208651557,"duration":87790}},{"uid":"fd57fe580b8e6dab","reportUrl":"../6109//#testresult/fd57fe580b8e6dab","status":"passed","time":{"start":1764122111560,"stop":1764122201338,"duration":89778}},{"uid":"f40c1c7595debe1c","reportUrl":"../6092//#testresult/f40c1c7595debe1c","status":"passed","time":{"start":1763948991396,"stop":1763949092029,"duration":100633}},{"uid":"a2992fafcb228535","reportUrl":"../6091//#testresult/a2992fafcb228535","status":"passed","time":{"start":1763862945066,"stop":1763863028513,"duration":83447}}]},"tags":["asyncio","abort_on_fail"]},"source":"d340ffb33bd7f80a.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}