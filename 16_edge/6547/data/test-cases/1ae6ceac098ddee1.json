{"uid":"1ae6ceac098ddee1","name":"test_full_cluster_restart[SIGKILL-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing_2#test_full_cluster_restart","historyId":"3c0a7ec972193176d563ca9397c820d2","time":{"start":1771206897015,"stop":1771207061367,"duration":164352},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1771205512465,"stop":1771205512466,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1771205512466,"stop":1771205512612,"duration":146},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1771205512466,"stop":1771205512466,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1771206892620,"stop":1771206892620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1771206892620,"stop":1771206894904,"duration":2284},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1771206892620,"stop":1771206892620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1771206894905,"stop":1771206897015,"duration":2110},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","status":"passed","steps":[],"attachments":[{"uid":"61d3015247059ec8","name":"log","source":"61d3015247059ec8.txt","type":"text/plain","size":7932}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1771207061367,"stop":1771207062389,"duration":1022},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1771207062389,"stop":1771207066297,"duration":3908},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1771207066298,"stop":1771207067316,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1771207067316,"stop":1771207067316,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1771207067408,"stop":1771207067763,"duration":355},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1771207067764,"stop":1771207067764,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1771207067764,"stop":1771207067764,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1771207067764,"stop":1771207067764,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing_2"},{"name":"host","value":"runnervmjduv7"},{"name":"thread","value":"11521-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing_2"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGKILL'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c353e6d36e5d44ae","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":3,"broken":1,"skipped":0,"passed":21,"unknown":9,"total":34},"items":[{"uid":"b13d3a2480d22203","reportUrl":"../6545//#testresult/b13d3a2480d22203","status":"passed","time":{"start":1771120572022,"stop":1771120665841,"duration":93819}},{"uid":"a01becb63504bba","reportUrl":"../6538//#testresult/a01becb63504bba","status":"unknown","time":{}},{"uid":"45ca0535d39addfb","reportUrl":"../6528//#testresult/45ca0535d39addfb","status":"unknown","time":{}},{"uid":"1677550290393d90","reportUrl":"../6526//#testresult/1677550290393d90","status":"passed","time":{"start":1770861374885,"stop":1770861452196,"duration":77311}},{"uid":"2d62e86a213c533a","reportUrl":"../6506//#testresult/2d62e86a213c533a","status":"passed","time":{"start":1770689130403,"stop":1770689262503,"duration":132100}},{"uid":"a434b18ba3eac1ca","reportUrl":"../6501//#testresult/a434b18ba3eac1ca","status":"unknown","time":{}},{"uid":"b173d2da1d1e64c","reportUrl":"../6499//#testresult/b173d2da1d1e64c","status":"passed","time":{"start":1770515769804,"stop":1770515914623,"duration":144819}},{"uid":"74d17b3111497ed2","reportUrl":"../6497//#testresult/74d17b3111497ed2","status":"unknown","time":{}},{"uid":"38a3e60fd7b0081","reportUrl":"../6485//#testresult/38a3e60fd7b0081","status":"passed","time":{"start":1770256477948,"stop":1770256581543,"duration":103595}},{"uid":"83b08b57c7d0f521","reportUrl":"../6480//#testresult/83b08b57c7d0f521","status":"passed","time":{"start":1770170041231,"stop":1770170130593,"duration":89362}},{"uid":"330a8034f30753d6","reportUrl":"../6473//#testresult/330a8034f30753d6","status":"passed","time":{"start":1770085202586,"stop":1770085307335,"duration":104749}},{"uid":"ce619259b83e0e49","reportUrl":"../6456//#testresult/ce619259b83e0e49","status":"passed","time":{"start":1769997267871,"stop":1769997346864,"duration":78993}},{"uid":"5ef0e52e5f600ccc","reportUrl":"../6454//#testresult/5ef0e52e5f600ccc","status":"failed","statusDetails":"AssertionError: testing.postgresql-0: writes not continuing to DB (current writes: 17 - previous writes: 17)","time":{"start":1769910952399,"stop":1769911221022,"duration":268623}},{"uid":"fe65af4356370f80","reportUrl":"../6450//#testresult/fe65af4356370f80","status":"passed","time":{"start":1769824489711,"stop":1769824567373,"duration":77662}},{"uid":"20ea5e028a8d3137","reportUrl":"../6410//#testresult/20ea5e028a8d3137","status":"passed","time":{"start":1769565807261,"stop":1769565894455,"duration":87194}},{"uid":"2d964f27343f75d","reportUrl":"../6403//#testresult/2d964f27343f75d","status":"passed","time":{"start":1769478946936,"stop":1769479026900,"duration":79964}},{"uid":"f63c43602c005703","reportUrl":"../6394//#testresult/f63c43602c005703","status":"passed","time":{"start":1769392495948,"stop":1769392579798,"duration":83850}},{"uid":"bf67792915c3691e","reportUrl":"../6392//#testresult/bf67792915c3691e","status":"unknown","time":{}},{"uid":"b7e8af8d9d0625f3","reportUrl":"../6388//#testresult/b7e8af8d9d0625f3","status":"unknown","time":{}},{"uid":"483c253069eff220","reportUrl":"../6379//#testresult/483c253069eff220","status":"failed","statusDetails":"AssertionError: testing.postgresql-2: writes not continuing to DB (current writes: -1 - previous writes: 2)","time":{"start":1769134390045,"stop":1769134665036,"duration":274991}}]},"tags":["asyncio","abort_on_fail"]},"source":"1ae6ceac098ddee1.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGKILL'"]}