{"uid":"b5ffd8a2e9d66774","name":"test_full_cluster_restart[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"49b54a769a8dddb0f8825db8919381ac","time":{"start":1740967737552,"stop":1740967823506,"duration":85954},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1740965957030,"stop":1740965957031,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1740965957031,"stop":1740965957031,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1740965957031,"stop":1740965957152,"duration":121},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1740967734672,"stop":1740967734672,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1740967734672,"stop":1740967736518,"duration":1846},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1740967734672,"stop":1740967734672,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1740967736518,"stop":1740967737552,"duration":1034},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","status":"passed","steps":[],"attachments":[{"uid":"e8c1fd0ca7f9bb35","name":"log","source":"e8c1fd0ca7f9bb35.txt","type":"text/plain","size":674}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1740967823506,"stop":1740967825690,"duration":2184},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1740967825690,"stop":1740967828219,"duration":2529},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1740967828219,"stop":1740967829236,"duration":1017},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1740967829237,"stop":1740967829237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1740968438278,"stop":1740968439030,"duration":752},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1740968439032,"stop":1740968439032,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1740968439032,"stop":1740968439033,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1740968439033,"stop":1740968439034,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1316-541"},{"name":"thread","value":"14445-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"9b141b8dc2b98fbf","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":56,"broken":24,"skipped":8,"passed":260,"unknown":8,"total":356},"items":[{"uid":"a4094e41eae369e7","reportUrl":"../4049//#testresult/a4094e41eae369e7","status":"passed","time":{"start":1740881366242,"stop":1740881505176,"duration":138934}},{"uid":"39b8115042a83b10","reportUrl":"../4048//#testresult/39b8115042a83b10","status":"passed","time":{"start":1740795387962,"stop":1740795484011,"duration":96049}},{"uid":"7718a6fe58e29ea2","reportUrl":"../4045//#testresult/7718a6fe58e29ea2","status":"passed","time":{"start":1740708480519,"stop":1740708571103,"duration":90584}},{"uid":"49095591274b2eaf","reportUrl":"../4041//#testresult/49095591274b2eaf","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fbfad34b320 state=finished raised AssertionError>]","time":{"start":1740622392612,"stop":1740622660635,"duration":268023}},{"uid":"57a2244eacc48a77","reportUrl":"../4037//#testresult/57a2244eacc48a77","status":"passed","time":{"start":1740535721536,"stop":1740535807078,"duration":85542}},{"uid":"43cfc23e15f635dc","reportUrl":"../4034//#testresult/43cfc23e15f635dc","status":"passed","time":{"start":1740449285789,"stop":1740449385560,"duration":99771}},{"uid":"744588533d4b1602","reportUrl":"../4033//#testresult/744588533d4b1602","status":"unknown","time":{}},{"uid":"3f9908becf365d6","reportUrl":"../4032//#testresult/3f9908becf365d6","status":"passed","time":{"start":1740276846758,"stop":1740276939008,"duration":92250}},{"uid":"ee66b11e727f2c50","reportUrl":"../4031//#testresult/ee66b11e727f2c50","status":"passed","time":{"start":1740190503093,"stop":1740190593223,"duration":90130}},{"uid":"ccc3daf48bf9a1","reportUrl":"../4028//#testresult/ccc3daf48bf9a1","status":"passed","time":{"start":1740103902591,"stop":1740104027003,"duration":124412}},{"uid":"1360e2e653c2d3b1","reportUrl":"../4026//#testresult/1360e2e653c2d3b1","status":"passed","time":{"start":1740018355137,"stop":1740018449170,"duration":94033}},{"uid":"aec6a117c83cbfde","reportUrl":"../4019//#testresult/aec6a117c83cbfde","status":"passed","time":{"start":1739931665358,"stop":1739931760775,"duration":95417}},{"uid":"939b4102ca66df0f","reportUrl":"../4016//#testresult/939b4102ca66df0f","status":"passed","time":{"start":1739844759303,"stop":1739844895015,"duration":135712}},{"uid":"c5a408019929da83","reportUrl":"../4012//#testresult/c5a408019929da83","status":"passed","time":{"start":1739759020691,"stop":1739759159273,"duration":138582}},{"uid":"378a5fdedbffe221","reportUrl":"../4005//#testresult/378a5fdedbffe221","status":"passed","time":{"start":1739671756480,"stop":1739671848288,"duration":91808}},{"uid":"22ff5a225a15fdb3","reportUrl":"../4004//#testresult/22ff5a225a15fdb3","status":"passed","time":{"start":1739585468324,"stop":1739585583212,"duration":114888}},{"uid":"56c249ee3f8a383b","reportUrl":"../3998//#testresult/56c249ee3f8a383b","status":"passed","time":{"start":1739498954720,"stop":1739499069056,"duration":114336}},{"uid":"91788ecc0626a22b","reportUrl":"../3991//#testresult/91788ecc0626a22b","status":"passed","time":{"start":1739412623769,"stop":1739412706611,"duration":82842}},{"uid":"b6959baf466641ab","reportUrl":"../3958//#testresult/b6959baf466641ab","status":"passed","time":{"start":1739153271932,"stop":1739153360909,"duration":88977}},{"uid":"8e6b59354a38ac65","reportUrl":"../3957//#testresult/8e6b59354a38ac65","status":"passed","time":{"start":1739066735377,"stop":1739066879045,"duration":143668}}]},"tags":["asyncio","abort_on_fail"]},"source":"b5ffd8a2e9d66774.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}