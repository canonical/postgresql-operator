{"uid":"b4b65dc63515621f","name":"test_interruption_db_process[SIGKILL-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"5549e4b678b9617f3f5afa0ef2465269","time":{"start":1759198602240,"stop":1759198680873,"duration":78633},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1759197516732,"stop":1759197516733,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1759197516733,"stop":1759197516733,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1759197516733,"stop":1759197516878,"duration":145},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1759198355185,"stop":1759198359308,"duration":4123},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1759198602239,"stop":1759198602239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1759198602240,"stop":1759198602240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"1590b0e168ff44d","name":"log","source":"1590b0e168ff44d.txt","type":"text/plain","size":779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1759198680873,"stop":1759198681892,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1759198681892,"stop":1759198681892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1759200311373,"stop":1759200446070,"duration":134697},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fc408368920 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1759200446071,"stop":1759200446418,"duration":347},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1759200446419,"stop":1759200446419,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1759200446419,"stop":1759200446419,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1759200446419,"stop":1759200446419,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"17205-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGKILL'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6a7fefc360022226","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":16,"passed":356,"unknown":24,"total":397},"items":[{"uid":"661415c296f9629a","reportUrl":"../5688//#testresult/661415c296f9629a","status":"passed","time":{"start":1759110552065,"stop":1759110631659,"duration":79594}},{"uid":"988135cf7edf5ce9","reportUrl":"../5685//#testresult/988135cf7edf5ce9","status":"passed","time":{"start":1759024658101,"stop":1759024736747,"duration":78646}},{"uid":"4329a63150a28046","reportUrl":"../5682//#testresult/4329a63150a28046","status":"passed","time":{"start":1758937650750,"stop":1758937729564,"duration":78814}},{"uid":"322213e381959209","reportUrl":"../5677//#testresult/322213e381959209","status":"passed","time":{"start":1758851338762,"stop":1758851417510,"duration":78748}},{"uid":"b2af90a538700c22","reportUrl":"../5662//#testresult/b2af90a538700c22","status":"passed","time":{"start":1758678689679,"stop":1758678770427,"duration":80748}},{"uid":"dd73b02145760514","reportUrl":"../5644//#testresult/dd73b02145760514","status":"passed","time":{"start":1758592339961,"stop":1758592420671,"duration":80710}},{"uid":"4b720eccf4007c40","reportUrl":"../5636//#testresult/4b720eccf4007c40","status":"passed","time":{"start":1758506223758,"stop":1758506302281,"duration":78523}},{"uid":"7a3ea3a86e2ac86a","reportUrl":"../5635//#testresult/7a3ea3a86e2ac86a","status":"passed","time":{"start":1758419764623,"stop":1758419844313,"duration":79690}},{"uid":"a8359d7dbdd7ff41","reportUrl":"../5629//#testresult/a8359d7dbdd7ff41","status":"passed","time":{"start":1758333427008,"stop":1758333506856,"duration":79848}},{"uid":"b4989fe7bcd2795a","reportUrl":"../5621//#testresult/b4989fe7bcd2795a","status":"passed","time":{"start":1758246711604,"stop":1758246792315,"duration":80711}},{"uid":"6e369c85a6811910","reportUrl":"../5614//#testresult/6e369c85a6811910","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1758160327068,"stop":1758160327068,"duration":0}},{"uid":"df08f63d2db58edd","reportUrl":"../5607//#testresult/df08f63d2db58edd","status":"passed","time":{"start":1758074142759,"stop":1758074221361,"duration":78602}},{"uid":"4690562ee80eaf48","reportUrl":"../5600//#testresult/4690562ee80eaf48","status":"passed","time":{"start":1757987670584,"stop":1757987749273,"duration":78689}},{"uid":"1fd6da0b3f7d898e","reportUrl":"../5599//#testresult/1fd6da0b3f7d898e","status":"passed","time":{"start":1757901081017,"stop":1757901160529,"duration":79512}},{"uid":"1a8e1f5d227908ac","reportUrl":"../5598//#testresult/1a8e1f5d227908ac","status":"passed","time":{"start":1757814897384,"stop":1757814975956,"duration":78572}},{"uid":"520cd8d801a0b1d0","reportUrl":"../5597//#testresult/520cd8d801a0b1d0","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1757728508714,"stop":1757728508714,"duration":0}},{"uid":"a3a3efcb7ce2e545","reportUrl":"../5594//#testresult/a3a3efcb7ce2e545","status":"passed","time":{"start":1757642035148,"stop":1757642113772,"duration":78624}},{"uid":"a2b23dcbd8c57af7","reportUrl":"../5581//#testresult/a2b23dcbd8c57af7","status":"unknown","time":{}},{"uid":"f7061737f1d675e2","reportUrl":"../5576//#testresult/f7061737f1d675e2","status":"passed","time":{"start":1757469266253,"stop":1757469345766,"duration":79513}},{"uid":"45240a1c8edf0abd","reportUrl":"../5569//#testresult/45240a1c8edf0abd","status":"passed","time":{"start":1757382813795,"stop":1757382892700,"duration":78905}}]},"tags":["asyncio","abort_on_fail"]},"source":"b4b65dc63515621f.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGKILL'"]}