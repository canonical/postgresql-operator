{"uid":"916af6958437842e","name":"test_interruption_db_process[SIGKILL-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"5549e4b678b9617f3f5afa0ef2465269","time":{"start":1753150842139,"stop":1753150923361,"duration":81222},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1753149417370,"stop":1753149417370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1753149417370,"stop":1753149417523,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1753149417370,"stop":1753149417370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1753150595501,"stop":1753150599618,"duration":4117},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1753150842138,"stop":1753150842138,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1753150842139,"stop":1753150842139,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"38d0b34e7a875eb6","name":"log","source":"38d0b34e7a875eb6.txt","type":"text/plain","size":775}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1753150923361,"stop":1753150924379,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1753150924380,"stop":1753150924380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1753153068866,"stop":1753153201325,"duration":132459},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7fcaab787320 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1753153201326,"stop":1753153201609,"duration":283},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1753153201610,"stop":1753153201610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1753153201610,"stop":1753153201610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1753153201610,"stop":1753153201611,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"pkrvmq0rgcvqdmg"},{"name":"thread","value":"17537-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGKILL'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a4a77b9ee3a2d3f","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":8,"passed":302,"unknown":19,"total":330},"items":[{"uid":"cf3fe1d627c7c6ee","reportUrl":"../5283//#testresult/cf3fe1d627c7c6ee","status":"passed","time":{"start":1753063398693,"stop":1753063480047,"duration":81354}},{"uid":"8e395bcff5de5d20","reportUrl":"../5282//#testresult/8e395bcff5de5d20","status":"passed","time":{"start":1752977380071,"stop":1752977461312,"duration":81241}},{"uid":"1a9fffc7e9ff4958","reportUrl":"../5276//#testresult/1a9fffc7e9ff4958","status":"passed","time":{"start":1752890720416,"stop":1752890806510,"duration":86094}},{"uid":"c24e6c934eccffe1","reportUrl":"../5274//#testresult/c24e6c934eccffe1","status":"passed","time":{"start":1752804370611,"stop":1752804445137,"duration":74526}},{"uid":"aed2b949a110e5fa","reportUrl":"../5265//#testresult/aed2b949a110e5fa","status":"passed","time":{"start":1752718037693,"stop":1752718116865,"duration":79172}},{"uid":"711835c65525c7a9","reportUrl":"../5262//#testresult/711835c65525c7a9","status":"passed","time":{"start":1752631398158,"stop":1752631481593,"duration":83435}},{"uid":"442cf9ee9c1d282a","reportUrl":"../5237//#testresult/442cf9ee9c1d282a","status":"passed","time":{"start":1752545270101,"stop":1752545350635,"duration":80534}},{"uid":"cf33a50befe85f20","reportUrl":"../5219//#testresult/cf33a50befe85f20","status":"passed","time":{"start":1752458828528,"stop":1752458908784,"duration":80256}},{"uid":"70b86d859a05cbfb","reportUrl":"../5218//#testresult/70b86d859a05cbfb","status":"passed","time":{"start":1752372410445,"stop":1752372488752,"duration":78307}},{"uid":"232a3e5a08ec224a","reportUrl":"../5217//#testresult/232a3e5a08ec224a","status":"passed","time":{"start":1752285908354,"stop":1752285986676,"duration":78322}},{"uid":"ab25d5c15bcda137","reportUrl":"../5204//#testresult/ab25d5c15bcda137","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1752198682067,"stop":1752198682067,"duration":0}},{"uid":"a722d7236f15be37","reportUrl":"../5176//#testresult/a722d7236f15be37","status":"passed","time":{"start":1752113238192,"stop":1752113322518,"duration":84326}},{"uid":"695d5a4b4b2e4bde","reportUrl":"../5164//#testresult/695d5a4b4b2e4bde","status":"passed","time":{"start":1752026604331,"stop":1752026682479,"duration":78148}},{"uid":"fefcafa42d8daaf7","reportUrl":"../5144//#testresult/fefcafa42d8daaf7","status":"passed","time":{"start":1751940167423,"stop":1751940248992,"duration":81569}},{"uid":"24872c5a087bcb79","reportUrl":"../5139//#testresult/24872c5a087bcb79","status":"passed","time":{"start":1751853689460,"stop":1751853768661,"duration":79201}},{"uid":"789c9fcbf2e64913","reportUrl":"../5137//#testresult/789c9fcbf2e64913","status":"passed","time":{"start":1751767471383,"stop":1751767550579,"duration":79196}},{"uid":"2a8652da2c7f23ac","reportUrl":"../5133//#testresult/2a8652da2c7f23ac","status":"passed","time":{"start":1751680742213,"stop":1751680820500,"duration":78287}},{"uid":"2e9f3faef86842f7","reportUrl":"../5112//#testresult/2e9f3faef86842f7","status":"passed","time":{"start":1751594121661,"stop":1751594199986,"duration":78325}},{"uid":"f29321983d460ff","reportUrl":"../5099//#testresult/f29321983d460ff","status":"passed","time":{"start":1751507952224,"stop":1751508035172,"duration":82948}},{"uid":"3c6c75ed411101c1","reportUrl":"../5094//#testresult/3c6c75ed411101c1","status":"passed","time":{"start":1751421291923,"stop":1751421373475,"duration":81552}}]},"tags":["asyncio","abort_on_fail"]},"source":"916af6958437842e.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGKILL'"]}