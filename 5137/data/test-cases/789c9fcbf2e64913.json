{"uid":"789c9fcbf2e64913","name":"test_interruption_db_process[SIGKILL-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"5549e4b678b9617f3f5afa0ef2465269","time":{"start":1751767471383,"stop":1751767550579,"duration":79196},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1751766123985,"stop":1751766123986,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1751766123986,"stop":1751766123986,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1751766123986,"stop":1751766124139,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1751767221652,"stop":1751767225795,"duration":4143},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1751767471382,"stop":1751767471382,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1751767471383,"stop":1751767471383,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"479fa75be5a7055a","name":"log","source":"479fa75be5a7055a.txt","type":"text/plain","size":775}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1751767550579,"stop":1751767551599,"duration":1020},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1751767551600,"stop":1751767551600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1751768614310,"stop":1751768749660,"duration":135350},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f1bcc764b00 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1751768749661,"stop":1751768749927,"duration":266},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1751768749928,"stop":1751768749928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1751768749928,"stop":1751768749928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1751768749928,"stop":1751768749928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"pkrvmbietmlfzoi"},{"name":"thread","value":"15724-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGKILL'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ce1ba6836dc8d2fb","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":7,"passed":287,"unknown":19,"total":314},"items":[{"uid":"2a8652da2c7f23ac","reportUrl":"../5133//#testresult/2a8652da2c7f23ac","status":"passed","time":{"start":1751680742213,"stop":1751680820500,"duration":78287}},{"uid":"2e9f3faef86842f7","reportUrl":"../5112//#testresult/2e9f3faef86842f7","status":"passed","time":{"start":1751594121661,"stop":1751594199986,"duration":78325}},{"uid":"f29321983d460ff","reportUrl":"../5099//#testresult/f29321983d460ff","status":"passed","time":{"start":1751507952224,"stop":1751508035172,"duration":82948}},{"uid":"3c6c75ed411101c1","reportUrl":"../5094//#testresult/3c6c75ed411101c1","status":"passed","time":{"start":1751421291923,"stop":1751421373475,"duration":81552}},{"uid":"b13b5b9eb2beac36","reportUrl":"../5082//#testresult/b13b5b9eb2beac36","status":"passed","time":{"start":1751335724839,"stop":1751335806366,"duration":81527}},{"uid":"78a3f6fb56bd1f33","reportUrl":"../5074//#testresult/78a3f6fb56bd1f33","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1751249526222,"stop":1751249526222,"duration":0}},{"uid":"c2b5497940f81009","reportUrl":"../5073//#testresult/c2b5497940f81009","status":"passed","time":{"start":1751162787151,"stop":1751162866378,"duration":79227}},{"uid":"b2460090695535d4","reportUrl":"../5072//#testresult/b2460090695535d4","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1751076982539,"stop":1751076982539,"duration":0}},{"uid":"e817d632fbf709d8","reportUrl":"../5060//#testresult/e817d632fbf709d8","status":"passed","time":{"start":1750990080455,"stop":1750990159626,"duration":79171}},{"uid":"93ac41e782e8469e","reportUrl":"../5051//#testresult/93ac41e782e8469e","status":"passed","time":{"start":1750903674321,"stop":1750903752526,"duration":78205}},{"uid":"3e274d99b775eb4c","reportUrl":"../5044//#testresult/3e274d99b775eb4c","status":"passed","time":{"start":1750816900495,"stop":1750816979800,"duration":79305}},{"uid":"b5e467eb3628c68a","reportUrl":"../5031//#testresult/b5e467eb3628c68a","status":"passed","time":{"start":1750730736606,"stop":1750730814872,"duration":78266}},{"uid":"819094a303836bfb","reportUrl":"../5028//#testresult/819094a303836bfb","status":"passed","time":{"start":1750557959407,"stop":1750558039613,"duration":80206}},{"uid":"f43adce239e4c4f","reportUrl":"../5027//#testresult/f43adce239e4c4f","status":"passed","time":{"start":1750471661544,"stop":1750471740644,"duration":79100}},{"uid":"984f78d612503165","reportUrl":"../5017//#testresult/984f78d612503165","status":"passed","time":{"start":1750385481369,"stop":1750385614316,"duration":132947}},{"uid":"68f61d9874f4705b","reportUrl":"../5011//#testresult/68f61d9874f4705b","status":"passed","time":{"start":1750299067167,"stop":1750299144271,"duration":77104}},{"uid":"f57fb86739d3a927","reportUrl":"../5008//#testresult/f57fb86739d3a927","status":"passed","time":{"start":1750212423308,"stop":1750212506305,"duration":82997}},{"uid":"fcf1a6a9a599904a","reportUrl":"../4994//#testresult/fcf1a6a9a599904a","status":"passed","time":{"start":1750126248422,"stop":1750126332596,"duration":84174}},{"uid":"723fb542ec98dcaf","reportUrl":"../4984//#testresult/723fb542ec98dcaf","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1750040113006,"stop":1750040113006,"duration":0}},{"uid":"3a1019b0c7c0eb54","reportUrl":"../4983//#testresult/3a1019b0c7c0eb54","status":"passed","time":{"start":1749953543750,"stop":1749953653152,"duration":109402}}]},"tags":["asyncio","abort_on_fail"]},"source":"789c9fcbf2e64913.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGKILL'"]}