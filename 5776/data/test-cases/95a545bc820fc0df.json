{"uid":"95a545bc820fc0df","name":"test_interruption_db_process[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_interruption_db_process","historyId":"546685934c34cfff7f60423bbdce2bf1","time":{"start":1759974283831,"stop":1759974363583,"duration":79752},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1759973489788,"stop":1759973489789,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1759973489789,"stop":1759973489934,"duration":145},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1759973489789,"stop":1759973489789,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1759974199174,"stop":1759974203301,"duration":4127},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1759974283830,"stop":1759974283830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1759974283831,"stop":1759974283831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"f316ff972ed0c927","name":"log","source":"f316ff972ed0c927.txt","type":"text/plain","size":779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1759974363583,"stop":1759974364603,"duration":1020},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1759974364604,"stop":1759974364604,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1759976322869,"stop":1759976456850,"duration":133981},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f58a653e2d0 state=finished raised ConnectTimeout>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 165, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1759976456851,"stop":1759976457196,"duration":345},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1759976457196,"stop":1759976457197,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1759976457197,"stop":1759976457197,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1759976457197,"stop":1759976457197,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"14712-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"41a5db2bc8370d8a","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":13,"passed":367,"unknown":24,"total":406},"items":[{"uid":"f33bd248d0553b1b","reportUrl":"../5764//#testresult/f33bd248d0553b1b","status":"passed","time":{"start":1759887696360,"stop":1759887775005,"duration":78645}},{"uid":"57201d0d3ad88615","reportUrl":"../5745//#testresult/57201d0d3ad88615","status":"passed","time":{"start":1759801355696,"stop":1759801435268,"duration":79572}},{"uid":"d6873c7acf7010e8","reportUrl":"../5735//#testresult/d6873c7acf7010e8","status":"passed","time":{"start":1759715083012,"stop":1759715160564,"duration":77552}},{"uid":"6ca85cfd414b3d4c","reportUrl":"../5725//#testresult/6ca85cfd414b3d4c","status":"passed","time":{"start":1759628649418,"stop":1759628728025,"duration":78607}},{"uid":"c9cf741c2b3a6c81","reportUrl":"../5716//#testresult/c9cf741c2b3a6c81","status":"passed","time":{"start":1759542110067,"stop":1759542188641,"duration":78574}},{"uid":"3e6d87efe71347db","reportUrl":"../5708//#testresult/3e6d87efe71347db","status":"passed","time":{"start":1759455948094,"stop":1759456027630,"duration":79536}},{"uid":"719dc4331e5b7a08","reportUrl":"../5701//#testresult/719dc4331e5b7a08","status":"passed","time":{"start":1759369514069,"stop":1759369592811,"duration":78742}},{"uid":"12f94a93a5a06923","reportUrl":"../5696//#testresult/12f94a93a5a06923","status":"passed","time":{"start":1759283263884,"stop":1759283342622,"duration":78738}},{"uid":"de0bf662ced5c797","reportUrl":"../5691//#testresult/de0bf662ced5c797","status":"passed","time":{"start":1759198441032,"stop":1759198520528,"duration":79496}},{"uid":"ac2ff7c4f8ff56ef","reportUrl":"../5688//#testresult/ac2ff7c4f8ff56ef","status":"passed","time":{"start":1759110391748,"stop":1759110471339,"duration":79591}},{"uid":"1741d863f4a7333c","reportUrl":"../5685//#testresult/1741d863f4a7333c","status":"passed","time":{"start":1759024498703,"stop":1759024577310,"duration":78607}},{"uid":"1592f0d713b363e6","reportUrl":"../5682//#testresult/1592f0d713b363e6","status":"passed","time":{"start":1758937489333,"stop":1758937568969,"duration":79636}},{"uid":"fc34a1a71b0788d3","reportUrl":"../5677//#testresult/fc34a1a71b0788d3","status":"passed","time":{"start":1758851177563,"stop":1758851257151,"duration":79588}},{"uid":"797ffc5b0c7c6c59","reportUrl":"../5662//#testresult/797ffc5b0c7c6c59","status":"passed","time":{"start":1758678527004,"stop":1758678607882,"duration":80878}},{"uid":"fb752448a7a4047c","reportUrl":"../5644//#testresult/fb752448a7a4047c","status":"passed","time":{"start":1758592177414,"stop":1758592258226,"duration":80812}},{"uid":"8a8cd4f217486597","reportUrl":"../5636//#testresult/8a8cd4f217486597","status":"passed","time":{"start":1758506063497,"stop":1758506143102,"duration":79605}},{"uid":"34c4a69a44b14e50","reportUrl":"../5635//#testresult/34c4a69a44b14e50","status":"passed","time":{"start":1758419603197,"stop":1758419682900,"duration":79703}},{"uid":"28281bf810e2993e","reportUrl":"../5629//#testresult/28281bf810e2993e","status":"passed","time":{"start":1758333264289,"stop":1758333344112,"duration":79823}},{"uid":"fb14e0b04e6db688","reportUrl":"../5621//#testresult/fb14e0b04e6db688","status":"passed","time":{"start":1758246549993,"stop":1758246629724,"duration":79731}},{"uid":"f843b8cf6de93571","reportUrl":"../5614//#testresult/f843b8cf6de93571","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1758160327060,"stop":1758160327060,"duration":0}}]},"tags":["asyncio","abort_on_fail"]},"source":"95a545bc820fc0df.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}