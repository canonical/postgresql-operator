{"uid":"e1922dd56b106b2d","name":"test_full_cluster_restart[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"49b54a769a8dddb0f8825db8919381ac","time":{"start":1767232388126,"stop":1767232481576,"duration":93450},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1767231182490,"stop":1767231182490,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1767231182490,"stop":1767231182631,"duration":141},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1767231182490,"stop":1767231182490,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1767232385054,"stop":1767232387090,"duration":2036},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1767232385054,"stop":1767232385054,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1767232385054,"stop":1767232385054,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1767232387090,"stop":1767232388126,"duration":1036},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","status":"passed","steps":[],"attachments":[{"uid":"e3fd62f352768a45","name":"log","source":"e3fd62f352768a45.txt","type":"text/plain","size":754}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1767232481577,"stop":1767232484770,"duration":3193},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1767232484771,"stop":1767232487382,"duration":2611},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1767232487383,"stop":1767232488404,"duration":1021},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1767232488404,"stop":1767232488405,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1767233088985,"stop":1767233089398,"duration":413},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1767233089398,"stop":1767233089398,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1767233089398,"stop":1767233089398,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1767233089398,"stop":1767233089399,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"13430-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"7168e38f0087c15e","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":86,"broken":43,"skipped":37,"passed":436,"unknown":39,"total":641},"items":[{"uid":"6dd1ba68dbee7404","reportUrl":"../6265//#testresult/6dd1ba68dbee7404","status":"passed","time":{"start":1767145882621,"stop":1767145968389,"duration":85768}},{"uid":"deb0c08a8b1c9870","reportUrl":"../6260//#testresult/deb0c08a8b1c9870","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f1358f594c0 state=finished raised AssertionError>]","time":{"start":1767059927592,"stop":1767060178556,"duration":250964}},{"uid":"7ca8cf6cb8e070bd","reportUrl":"../6259//#testresult/7ca8cf6cb8e070bd","status":"passed","time":{"start":1766973602089,"stop":1766973694305,"duration":92216}},{"uid":"e6638953ce62558","reportUrl":"../6258//#testresult/e6638953ce62558","status":"unknown","time":{}},{"uid":"d646b434740d2491","reportUrl":"../6257//#testresult/d646b434740d2491","status":"passed","time":{"start":1766801152813,"stop":1766801239890,"duration":87077}},{"uid":"a77e0b269d59b143","reportUrl":"../6256//#testresult/a77e0b269d59b143","status":"passed","time":{"start":1766714512107,"stop":1766714597517,"duration":85410}},{"uid":"c3f08330c9e92b6a","reportUrl":"../6255//#testresult/c3f08330c9e92b6a","status":"passed","time":{"start":1766627929427,"stop":1766628021465,"duration":92038}},{"uid":"c24e9cc678a3b69e","reportUrl":"../6254//#testresult/c24e9cc678a3b69e","status":"passed","time":{"start":1766541558853,"stop":1766541644281,"duration":85428}},{"uid":"5d99175be3363b82","reportUrl":"../6248//#testresult/5d99175be3363b82","status":"passed","time":{"start":1766454988949,"stop":1766455072817,"duration":83868}},{"uid":"f02b84a6c1506bfc","reportUrl":"../6247//#testresult/f02b84a6c1506bfc","status":"unknown","time":{}},{"uid":"f95091d5c3ce8b66","reportUrl":"../6246//#testresult/f95091d5c3ce8b66","status":"failed","statusDetails":"AssertionError: testing.postgresql-1: writes not continuing to DB (current writes: 3 - previous writes: 3)","time":{"start":1766282164820,"stop":1766282457049,"duration":292229}},{"uid":"f28ffd8a7899605f","reportUrl":"../6245//#testresult/f28ffd8a7899605f","status":"unknown","time":{}},{"uid":"76a2dc4de09d8ce5","reportUrl":"../6244//#testresult/76a2dc4de09d8ce5","status":"passed","time":{"start":1766109667670,"stop":1766109764681,"duration":97011}},{"uid":"59e7ee08ffa7d732","reportUrl":"../6243//#testresult/59e7ee08ffa7d732","status":"passed","time":{"start":1766022619476,"stop":1766022708842,"duration":89366}},{"uid":"27ae7d6f47f570b5","reportUrl":"../6240//#testresult/27ae7d6f47f570b5","status":"passed","time":{"start":1765936803468,"stop":1765936886873,"duration":83405}},{"uid":"836c7e1b6463393e","reportUrl":"../6220//#testresult/836c7e1b6463393e","status":"passed","time":{"start":1765850436250,"stop":1765850521360,"duration":85110}},{"uid":"d340ffb33bd7f80a","reportUrl":"../6210//#testresult/d340ffb33bd7f80a","status":"passed","time":{"start":1765763733296,"stop":1765763833369,"duration":100073}},{"uid":"bc4a927fdcb72431","reportUrl":"../6209//#testresult/bc4a927fdcb72431","status":"passed","time":{"start":1765677688827,"stop":1765677775130,"duration":86303}},{"uid":"7328c0e054cdd05d","reportUrl":"../6208//#testresult/7328c0e054cdd05d","status":"passed","time":{"start":1765590980780,"stop":1765591100524,"duration":119744}},{"uid":"ac73a0fabb6ffacb","reportUrl":"../6203//#testresult/ac73a0fabb6ffacb","status":"unknown","time":{}}]},"tags":["asyncio","abort_on_fail"]},"source":"e1922dd56b106b2d.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}