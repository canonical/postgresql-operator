{"uid":"97635435f02659dd","name":"test_password_rotation","fullName":"tests.integration.test_password_rotation#test_password_rotation","historyId":"7f491fba5106f4b153ebef3a17aa64a3","time":{"start":1750384191493,"stop":1750384213873,"duration":22380},"description":"Test password rotation action.","descriptionHtml":"<p>Test password rotation action.</p>\n","status":"broken","statusMessage":"juju.errors.JujuUnitError: Unit in error: postgresql/1","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n                             ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/logging.py\", line 850, in pytest_runtest_call\n    yield\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/capture.py\", line 900, in pytest_runtest_call\n    return (yield)\n            ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/skipping.py\", line 263, in pytest_runtest_call\n    return (yield)\n            ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1670, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 156, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_password_rotation.py\", line 66, in test_password_rotation\n    await ops_test.model.wait_for_idle(apps=[APP_NAME], status=\"active\", timeout=1000)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model/__init__.py\", line 3245, in wait_for_idle\n    _raise_for_status(errors, \"error\")\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model/__init__.py\", line 3136, in _raise_for_status\n    raise error_type(\njuju.errors.JujuUnitError: Unit in error: postgresql/1","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1750383570183,"stop":1750383570319,"duration":136},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1750383570183,"stop":1750383570183,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1750383570183,"stop":1750383570183,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1750384191493,"stop":1750384191493,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1750384213879,"stop":1750384213879,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1750384291937,"stop":1750384292277,"duration":340},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1750384292278,"stop":1750384292278,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1750384292278,"stop":1750384292278,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1750384292278,"stop":1750384292278,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_password_rotation"},{"name":"host","value":"pkrvmxyh4eaekms"},{"name":"thread","value":"15789-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_password_rotation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"55bc357234f800a5","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":3,"skipped":2,"passed":447,"unknown":19,"total":471},"items":[{"uid":"bdcc1648d3e84bca","reportUrl":"../5011//#testresult/bdcc1648d3e84bca","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/0","time":{"start":1750297807624,"stop":1750297830013,"duration":22389}},{"uid":"b4f4981d1cbcfc63","reportUrl":"../5008//#testresult/b4f4981d1cbcfc63","status":"passed","time":{"start":1750211319286,"stop":1750211634572,"duration":315286}},{"uid":"b304632773dab604","reportUrl":"../4994//#testresult/b304632773dab604","status":"passed","time":{"start":1750125357063,"stop":1750125714739,"duration":357676}},{"uid":"9f2908d343d944f3","reportUrl":"../4984//#testresult/9f2908d343d944f3","status":"passed","time":{"start":1750038734149,"stop":1750039073218,"duration":339069}},{"uid":"3c1031fd7e921b5a","reportUrl":"../4983//#testresult/3c1031fd7e921b5a","status":"passed","time":{"start":1749952580823,"stop":1749952969600,"duration":388777}},{"uid":"aad98b6e553f7cf3","reportUrl":"../4982//#testresult/aad98b6e553f7cf3","status":"passed","time":{"start":1749865408211,"stop":1749865735507,"duration":327296}},{"uid":"6c2d6c861966498e","reportUrl":"../4973//#testresult/6c2d6c861966498e","status":"passed","time":{"start":1749779317130,"stop":1749779673504,"duration":356374}},{"uid":"184b7b6bbab5cefc","reportUrl":"../4966//#testresult/184b7b6bbab5cefc","status":"passed","time":{"start":1749693073132,"stop":1749693477957,"duration":404825}},{"uid":"329acbbd5f305b20","reportUrl":"../4948//#testresult/329acbbd5f305b20","status":"passed","time":{"start":1749606488048,"stop":1749606922921,"duration":434873}},{"uid":"a7761735341c9563","reportUrl":"../4927//#testresult/a7761735341c9563","status":"passed","time":{"start":1749520488003,"stop":1749520870982,"duration":382979}},{"uid":"36e4d0eddf981de6","reportUrl":"../4900//#testresult/36e4d0eddf981de6","status":"passed","time":{"start":1749433642027,"stop":1749433937146,"duration":295119}},{"uid":"9737ac571602f1","reportUrl":"../4895//#testresult/9737ac571602f1","status":"unknown","time":{}},{"uid":"5948c663ac96bd15","reportUrl":"../4892//#testresult/5948c663ac96bd15","status":"passed","time":{"start":1749261236837,"stop":1749261580116,"duration":343279}},{"uid":"74ff7c00645a630f","reportUrl":"../4869//#testresult/74ff7c00645a630f","status":"passed","time":{"start":1749174892719,"stop":1749175237811,"duration":345092}},{"uid":"b4a4cd4d55790696","reportUrl":"../4840//#testresult/b4a4cd4d55790696","status":"passed","time":{"start":1749088541172,"stop":1749088913850,"duration":372678}},{"uid":"67892f683bf2e72a","reportUrl":"../4817//#testresult/67892f683bf2e72a","status":"passed","time":{"start":1749002081876,"stop":1749002413925,"duration":332049}},{"uid":"d83b9b2f5d485d63","reportUrl":"../4789//#testresult/d83b9b2f5d485d63","status":"passed","time":{"start":1748915463084,"stop":1748915857783,"duration":394699}},{"uid":"94825c81deded8c1","reportUrl":"../4758//#testresult/94825c81deded8c1","status":"passed","time":{"start":1748828828362,"stop":1748829182209,"duration":353847}},{"uid":"57fb084924cc4b1e","reportUrl":"../4753//#testresult/57fb084924cc4b1e","status":"passed","time":{"start":1748742825676,"stop":1748743162640,"duration":336964}},{"uid":"14e36c08f19143e1","reportUrl":"../4747//#testresult/14e36c08f19143e1","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/1","time":{"start":1748656294635,"stop":1748656317990,"duration":23355}}]},"tags":["asyncio"]},"source":"97635435f02659dd.json","parameterValues":[]}