{"uid":"d97df4927fb1edc7","name":"test_full_cluster_restart[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"49b54a769a8dddb0f8825db8919381ac","time":{"start":1729390410579,"stop":1729390524958,"duration":114379},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1729388142704,"stop":1729388142705,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1729388142705,"stop":1729388142705,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1729388142705,"stop":1729388142840,"duration":135},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1729390402457,"stop":1729390402457,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1729390402457,"stop":1729390402457,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1729390402458,"stop":1729390409543,"duration":7085},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1729390409543,"stop":1729390410578,"duration":1035},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","status":"passed","steps":[],"attachments":[{"uid":"dcda202344dd0054","name":"log","source":"dcda202344dd0054.txt","type":"text/plain","size":476}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1729390524958,"stop":1729390528119,"duration":3161},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1729390528120,"stop":1729390535706,"duration":7586},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1729390535706,"stop":1729390536729,"duration":1023},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1729390536730,"stop":1729390536730,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1729390976315,"stop":1729390976961,"duration":646},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1729390976962,"stop":1729390976962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1729390976962,"stop":1729390976962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1729390976962,"stop":1729390976962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1532-499"},{"name":"thread","value":"15880-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e77ad6bec39e14cd","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":45,"broken":19,"skipped":5,"passed":160,"unknown":4,"total":233},"items":[{"uid":"7b959d7864c23acc","reportUrl":"../3469//#testresult/7b959d7864c23acc","status":"passed","time":{"start":1729303731188,"stop":1729303828015,"duration":96827}},{"uid":"ae5a6731bac927c0","reportUrl":"../3461//#testresult/ae5a6731bac927c0","status":"passed","time":{"start":1729217574941,"stop":1729217673245,"duration":98304}},{"uid":"f0dba0551c1db2a8","reportUrl":"../3454//#testresult/f0dba0551c1db2a8","status":"passed","time":{"start":1729131276805,"stop":1729131439087,"duration":162282}},{"uid":"c9b1c1daeb90c35e","reportUrl":"../3444//#testresult/c9b1c1daeb90c35e","status":"passed","time":{"start":1729045661866,"stop":1729045786747,"duration":124881}},{"uid":"dcdb57f0c185f07d","reportUrl":"../3438//#testresult/dcdb57f0c185f07d","status":"passed","time":{"start":1728958098500,"stop":1728958192465,"duration":93965}},{"uid":"8d4c0c4b4f3901d5","reportUrl":"../3433//#testresult/8d4c0c4b4f3901d5","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f016b077910 state=finished raised AssertionError>]","time":{"start":1728871907565,"stop":1728872173755,"duration":266190}},{"uid":"bb8c3ce78075c9e2","reportUrl":"../3430//#testresult/bb8c3ce78075c9e2","status":"passed","time":{"start":1728785289802,"stop":1728785426751,"duration":136949}},{"uid":"d63e9562ae8366f3","reportUrl":"../3427//#testresult/d63e9562ae8366f3","status":"passed","time":{"start":1728698880907,"stop":1728698970197,"duration":89290}},{"uid":"d8bb5a0c9ea9909f","reportUrl":"../3421//#testresult/d8bb5a0c9ea9909f","status":"passed","time":{"start":1728612574234,"stop":1728612669014,"duration":94780}},{"uid":"7cfbb833e97f672","reportUrl":"../3419//#testresult/7cfbb833e97f672","status":"passed","time":{"start":1728526554036,"stop":1728526667402,"duration":113366}},{"uid":"5bb9d442829a995d","reportUrl":"../3411//#testresult/5bb9d442829a995d","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1728438257921,"stop":1728438257921,"duration":0}},{"uid":"113bc176f02d6645","reportUrl":"../3408//#testresult/113bc176f02d6645","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1728351672079,"stop":1728351672079,"duration":0}},{"uid":"c9cf0c02c2e140f3","reportUrl":"../3406//#testresult/c9cf0c02c2e140f3","status":"passed","time":{"start":1728180617581,"stop":1728180745812,"duration":128231}},{"uid":"d61d8a0d627c6fc8","reportUrl":"../3404//#testresult/d61d8a0d627c6fc8","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f0e22c01c00 state=finished raised AssertionError>]","time":{"start":1728094195387,"stop":1728094460478,"duration":265091}},{"uid":"4a384d0449cd3bf","reportUrl":"../3402//#testresult/4a384d0449cd3bf","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f03141c2410 state=finished raised AssertionError>]","time":{"start":1728007553486,"stop":1728007966778,"duration":413292}},{"uid":"c1796a50e0d2839a","reportUrl":"../3401//#testresult/c1796a50e0d2839a","status":"passed","time":{"start":1727921481772,"stop":1727921621608,"duration":139836}},{"uid":"2bb61e7a92ccb92e","reportUrl":"../3395//#testresult/2bb61e7a92ccb92e","status":"passed","time":{"start":1727835354751,"stop":1727835497659,"duration":142908}},{"uid":"1aec76a67a01effa","reportUrl":"../3380//#testresult/1aec76a67a01effa","status":"passed","time":{"start":1727748540184,"stop":1727748692965,"duration":152781}},{"uid":"36f5ed88ef455020","reportUrl":"../3370//#testresult/36f5ed88ef455020","status":"passed","time":{"start":1727662257382,"stop":1727662468622,"duration":211240}},{"uid":"bb530c0c6ae39fa2","reportUrl":"../3365//#testresult/bb530c0c6ae39fa2","status":"passed","time":{"start":1727575717259,"stop":1727575861499,"duration":144240}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"d97df4927fb1edc7.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}